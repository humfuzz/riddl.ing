import{s as Q,a as Ie,u as ye,g as De,b as Ee,r as fe,x as xe,e as ne,y as ie,c as $,z as We,n as j,o as we,A as H,B as et,C as tt}from"../chunks/scheduler.BKWWRvbd.js";import{S as Y,i as x,e as I,s as S,c as y,a as T,d as b,f as A,y as L,o as _,g as E,h as w,z as V,A as st,B as nt,k as O,l as N,C as ae,u as R,v as z,w as W,x as J,D as Me,E as ke,F as Je,H as lt,G as rt,q as Ke,n as Xe,t as K,b as X,j as Z,m as Se}from"../chunks/index.BOarCiSF.js";import{w as re,b as ot}from"../chunks/paths.DNGtItkB.js";function ue(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const it=s=>({}),Ae=s=>({});function at(s){let e,t,n,l,r,o,a,i="close",u,m,d;const c=s[3].header,f=Ie(c,s,s[2],Ae),p=s[3].default,v=Ie(p,s,s[2],null);return{c(){e=I("dialog"),t=I("div"),n=I("div"),f&&f.c(),l=S(),r=I("div"),v&&v.c(),o=S(),a=I("button"),a.textContent=i,this.h()},l(k){e=y(k,"DIALOG",{class:!0});var C=T(e);t=y(C,"DIV",{class:!0});var q=T(t);n=y(q,"DIV",{class:!0});var B=T(n);f&&f.l(B),B.forEach(b),l=A(q),r=y(q,"DIV",{class:!0});var G=T(r);v&&v.l(G),G.forEach(b),o=A(q),a=y(q,"BUTTON",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-1trexnk"&&(a.textContent=i),q.forEach(b),C.forEach(b),this.h()},h(){_(n,"class","header svelte-m000a7"),_(r,"class","body svelte-m000a7"),a.autofocus=!0,_(a,"class","svelte-m000a7"),_(t,"class","svelte-m000a7"),_(e,"class","svelte-m000a7")},m(k,C){E(k,e,C),w(e,t),w(t,n),f&&f.m(n,null),w(t,l),w(t,r),v&&v.m(r,null),w(t,o),w(t,a),s[6](e),u=!0,a.focus(),m||(d=[V(a,"click",s[5]),V(t,"click",st(s[4])),V(e,"close",s[7]),V(e,"click",nt(s[8]))],m=!0)},p(k,[C]){f&&f.p&&(!u||C&4)&&ye(f,c,k,k[2],u?Ee(c,k[2],C,it):De(k[2]),Ae),v&&v.p&&(!u||C&4)&&ye(v,p,k,k[2],u?Ee(p,k[2],C,null):De(k[2]),null)},i(k){u||(O(f,k),O(v,k),u=!0)},o(k){N(f,k),N(v,k),u=!1},d(k){k&&b(e),f&&f.d(k),v&&v.d(k),s[6](null),m=!1,fe(d)}}}function ut(s,e,t){let{$$slots:n={},$$scope:l}=e,{showModal:r}=e,o;function a(c){xe.call(this,s,c)}const i=()=>o.close();function u(c){ne[c?"unshift":"push"](()=>{o=c,t(1,o)})}const m=()=>t(0,r=!1),d=()=>o.close();return s.$$set=c=>{"showModal"in c&&t(0,r=c.showModal),"$$scope"in c&&t(2,l=c.$$scope)},s.$$.update=()=>{s.$$.dirty&3&&o&&r&&o.showModal()},[r,o,l,n,a,i,u,m,d]}class Ze extends Y{constructor(e){super(),x(this,e,ut,at,Q,{showModal:0})}}const ce=re(!1),te=re(1),se=re(null),oe=re([]);function Te(s){let e,t="want to submit your own questions?",n,l,r="feedback?";return{c(){e=I("p"),e.textContent=t,n=S(),l=I("p"),l.textContent=r},l(o){e=y(o,"P",{"data-svelte-h":!0}),L(e)!=="svelte-1b6tsma"&&(e.textContent=t),n=A(o),l=y(o,"P",{"data-svelte-h":!0}),L(l)!=="svelte-zhts88"&&(l.textContent=r)},m(o,a){E(o,e,a),E(o,n,a),E(o,l,a)},d(o){o&&(b(e),b(n),b(l))}}}function ct(s){let e,t,n="ridd.ling is a daily guessing game.",l,r,o="guess the answer to the riddle in five clues.",a,i,u,m="made by natto games",d=!s[1]&&Te();return{c(){e=I("div"),t=I("p"),t.textContent=n,l=S(),r=I("p"),r.textContent=o,a=S(),d&&d.c(),i=S(),u=I("p"),u.textContent=m,this.h()},l(c){e=y(c,"DIV",{class:!0});var f=T(e);t=y(f,"P",{"data-svelte-h":!0}),L(t)!=="svelte-1bxe6og"&&(t.textContent=n),l=A(f),r=y(f,"P",{"data-svelte-h":!0}),L(r)!=="svelte-12tr8h3"&&(r.textContent=o),a=A(f),d&&d.l(f),i=A(f),u=y(f,"P",{"data-svelte-h":!0}),L(u)!=="svelte-mq2eg7"&&(u.textContent=m),f.forEach(b),this.h()},h(){_(e,"class","about-body")},m(c,f){E(c,e,f),w(e,t),w(e,l),w(e,r),w(e,a),d&&d.m(e,null),w(e,i),w(e,u)},p(c,f){c[1]?d&&(d.d(1),d=null):d||(d=Te(),d.c(),d.m(e,i))},d(c){c&&b(e),d&&d.d()}}}function ft(s){let e,t="about";return{c(){e=I("h2"),e.textContent=t,this.h()},l(n){e=y(n,"H2",{slot:!0,class:!0,"data-svelte-h":!0}),L(e)!=="svelte-vn77l7"&&(e.textContent=t),this.h()},h(){_(e,"slot","header"),_(e,"class","about-header")},m(n,l){E(n,e,l)},p:j,d(n){n&&b(e)}}}function dt(s){let e,t,n;function l(o){s[2](o)}let r={$$slots:{header:[ft],default:[ct]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.showModal=s[0]),e=new Ze({props:r}),ne.push(()=>ae(e,"showModal",l)),{c(){R(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){W(e,o,a),n=!0},p(o,[a]){const i={};a&10&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.showModal=o[0],ie(()=>t=!1)),e.$set(i)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function ht(s,e,t){let n;$(s,ce,o=>t(1,n=o));let{showAbout:l=!1}=e;function r(o){l=o,t(0,l)}return s.$$set=o=>{"showAbout"in o&&t(0,l=o.showAbout)},s.$$.update=()=>{s.$$.dirty&1&&(l||We(ce,n=!1,n))},[l,n,r]}class mt extends Y{constructor(e){super(),x(this,e,ht,dt,Q,{showAbout:0})}}const _e=(s,e)=>e.some(t=>s instanceof t);let qe,Be;function _t(){return qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gt(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ge=new WeakMap,he=new WeakMap,de=new WeakMap;function pt(s){const e=new Promise((t,n)=>{const l=()=>{s.removeEventListener("success",r),s.removeEventListener("error",o)},r=()=>{t(le(s.result)),l()},o=()=>{n(s.error),l()};s.addEventListener("success",r),s.addEventListener("error",o)});return de.set(e,s),e}function bt(s){if(ge.has(s))return;const e=new Promise((t,n)=>{const l=()=>{s.removeEventListener("complete",r),s.removeEventListener("error",o),s.removeEventListener("abort",o)},r=()=>{t(),l()},o=()=>{n(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",r),s.addEventListener("error",o),s.addEventListener("abort",o)});ge.set(s,e)}let pe={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return ge.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return le(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Qe(s){pe=s(pe)}function vt(s){return gt().includes(s)?function(...e){return s.apply(be(this),e),le(this.request)}:function(...e){return le(s.apply(be(this),e))}}function wt(s){return typeof s=="function"?vt(s):(s instanceof IDBTransaction&&bt(s),_e(s,_t())?new Proxy(s,pe):s)}function le(s){if(s instanceof IDBRequest)return pt(s);if(he.has(s))return he.get(s);const e=wt(s);return e!==s&&(he.set(s,e),de.set(e,s)),e}const be=s=>de.get(s);function kt(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",n=>e(n.oldVersion,n)),le(t).then(()=>{})}const Ct=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],me=new Map;function Fe(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(me.get(e))return me.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,l=It.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(l||Ct.includes(t)))return;const r=async function(o,...a){const i=this.transaction(o,l?"readwrite":"readonly");let u=i.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),l&&i.done]))[0]};return me.set(e,r),r}Qe(s=>({...s,get:(e,t,n)=>Fe(e,t)||s.get(e,t,n),has:(e,t)=>!!Fe(e,t)||s.has(e,t)}));const yt=["continue","continuePrimaryKey","advance"],Pe={},ve=new WeakMap,Ye=new WeakMap,Dt={get(s,e){if(!yt.includes(e))return s[e];let t=Pe[e];return t||(t=Pe[e]=function(...n){ve.set(this,Ye.get(this)[e](...n))}),t}};async function*Et(...s){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...s)),!e)return;e=e;const t=new Proxy(e,Dt);for(Ye.set(t,e),de.set(t,be(e));e;)yield t,e=await(ve.get(t)||e.continue()),ve.delete(t)}function Ve(s,e){return e===Symbol.asyncIterator&&_e(s,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&_e(s,[IDBIndex,IDBObjectStore])}Qe(s=>({...s,get(e,t,n){return Ve(e,t)?Et:s.get(e,t,n)},has(e,t){return Ve(e,t)||s.has(e,t)}}));const Mt="riddling";function St(s){let e,t="clear progress",n,l;return{c(){e=I("button"),e.textContent=t},l(r){e=y(r,"BUTTON",{"data-svelte-h":!0}),L(e)!=="svelte-1u411gq"&&(e.textContent=t)},m(r,o){E(r,e,o),n||(l=V(e,"click",s[2]),n=!0)},p:j,d(r){r&&b(e),n=!1,l()}}}function At(s){let e,t="settings";return{c(){e=I("h2"),e.textContent=t,this.h()},l(n){e=y(n,"H2",{slot:!0,"data-svelte-h":!0}),L(e)!=="svelte-1k1j1xn"&&(e.textContent=t),this.h()},h(){_(e,"slot","header")},m(n,l){E(n,e,l)},p:j,d(n){n&&b(e)}}}function Tt(s){let e,t,n;function l(o){s[3](o)}let r={$$slots:{header:[At],default:[St]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.showModal=s[0]),e=new Ze({props:r}),ne.push(()=>ae(e,"showModal",l)),{c(){R(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){W(e,o,a),n=!0},p(o,[a]){const i={};a&16&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.showModal=o[0],ie(()=>t=!1)),e.$set(i)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function qt(s,e,t){let{showSettings:n=!1}=e;function l(){localStorage.clear(),kt(Mt)}const r=()=>l();function o(a){n=a,t(0,n)}return s.$$set=a=>{"showSettings"in a&&t(0,n=a.showSettings)},[n,l,r,o]}class Bt extends Y{constructor(e){super(),x(this,e,qt,Tt,Q,{showSettings:0})}}function Ft(s){let e,t,n,l,r=`<a data-sveltekit-reload="" href="${ot}/" class="svelte-12nuhzw">riddl.ing</a>`,o,a,i,u="<div>❔</div>",m,d,c,f,p,v="<div>⚙️</div>",k,C,q,B,G,ee;function U(h){s[3](h)}let P={};s[0]!==void 0&&(P.showAbout=s[0]),d=new mt({props:P}),ne.push(()=>ae(d,"showAbout",U));function g(h){s[5](h)}let M={};return s[1]!==void 0&&(M.showSettings=s[1]),C=new Bt({props:M}),ne.push(()=>ae(C,"showSettings",g)),{c(){e=I("div"),t=I("div"),n=S(),l=I("div"),l.innerHTML=r,o=S(),a=I("div"),i=I("button"),i.innerHTML=u,m=S(),R(d.$$.fragment),f=S(),p=I("button"),p.innerHTML=v,k=S(),R(C.$$.fragment),this.h()},l(h){e=y(h,"DIV",{id:!0,class:!0});var D=T(e);t=y(D,"DIV",{class:!0}),T(t).forEach(b),n=A(D),l=y(D,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),L(l)!=="svelte-1nqrwk6"&&(l.innerHTML=r),o=A(D),a=y(D,"DIV",{class:!0});var F=T(a);i=y(F,"BUTTON",{"data-svelte-h":!0}),L(i)!=="svelte-11idff1"&&(i.innerHTML=u),m=A(F),z(d.$$.fragment,F),f=A(F),p=y(F,"BUTTON",{"data-svelte-h":!0}),L(p)!=="svelte-157pvcf"&&(p.innerHTML=v),k=A(F),z(C.$$.fragment,F),F.forEach(b),D.forEach(b),this.h()},h(){_(t,"class","left svelte-12nuhzw"),_(l,"id","title"),_(l,"class","center svelte-12nuhzw"),_(a,"class","right svelte-12nuhzw"),_(e,"id","header"),_(e,"class","svelte-12nuhzw")},m(h,D){E(h,e,D),w(e,t),w(e,n),w(e,l),w(e,o),w(e,a),w(a,i),w(a,m),W(d,a,null),w(a,f),w(a,p),w(a,k),W(C,a,null),B=!0,G||(ee=[V(i,"click",s[2]),V(p,"click",s[4])],G=!0)},p(h,[D]){const F={};!c&&D&1&&(c=!0,F.showAbout=h[0],ie(()=>c=!1)),d.$set(F);const Ce={};!q&&D&2&&(q=!0,Ce.showSettings=h[1],ie(()=>q=!1)),C.$set(Ce)},i(h){B||(O(d.$$.fragment,h),O(C.$$.fragment,h),B=!0)},o(h){N(d.$$.fragment,h),N(C.$$.fragment,h),B=!1},d(h){h&&b(e),J(d),J(C),G=!1,fe(ee)}}}function Pt(s,e,t){let n;$(s,ce,m=>t(6,n=m));let l=!1,r=!1;we(()=>{localStorage.getItem("visited")!=="true"&&(t(0,l=!0),We(ce,n=!0,n),localStorage.setItem("visited","true"))});const o=()=>t(0,l=!0);function a(m){l=m,t(0,l)}const i=()=>t(1,r=!0);function u(m){r=m,t(1,r)}return[l,r,o,a,i,u]}class Vt extends Y{constructor(e){super(),x(this,e,Pt,Ft,Q,{})}}function Lt(s){return new Worker(""+new URL("../workers/autocomplete.worker-C2Jfy91Z.js",import.meta.url).href,{type:"module",name:s==null?void 0:s.name})}function Le(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function Oe(s){let e;return{c(){e=I("input"),this.h()},l(t){e=y(t,"INPUT",{type:!0,id:!0,class:!0}),this.h()},h(){_(e,"type","submit"),e.value="guess",_(e,"id","guess-btn"),_(e,"class","svelte-117cwqa")},m(t,n){E(t,e,n)},d(t){t&&b(e)}}}function Ne(s){let e,t,n;return{c(){e=I("input"),this.h()},l(l){e=y(l,"INPUT",{type:!0,id:!0,class:!0}),this.h()},h(){_(e,"type","button"),e.value="X",_(e,"id","clear-btn"),_(e,"class","svelte-117cwqa")},m(l,r){E(l,e,r),t||(n=V(e,"click",ke(s[10])),t=!0)},p:j,d(l){l&&b(e),t=!1,n()}}}function Ge(s){let e,t=ue(s[2]),n=[];for(let l=0;l<t.length;l+=1)n[l]=je(Le(s,t,l));return{c(){e=I("ul");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=y(l,"UL",{id:!0,role:!0,class:!0});var r=T(e);for(let o=0;o<n.length;o+=1)n[o].l(r);r.forEach(b),this.h()},h(){_(e,"id","matches"),_(e,"role","listbox"),_(e,"class","svelte-117cwqa")},m(l,r){E(l,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(l,r){if(r&774){t=ue(l[2]);let o;for(o=0;o<t.length;o+=1){const a=Le(l,t,o);n[o]?n[o].p(a,r):(n[o]=je(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(l){l&&b(e),Je(n,l)}}}function je(s){let e,t,n=s[23][1]+"",l,r,o,a,i;function u(){return s[19](s[25])}function m(...d){return s[20](s[23],...d)}return{c(){e=I("li"),t=new lt(!1),l=S(),this.h()},l(d){e=y(d,"LI",{id:!0,class:!0,role:!0,tabindex:!0,"aria-selected":!0});var c=T(e);t=rt(c,!1),l=A(c),c.forEach(b),this.h()},h(){t.a=l,_(e,"id","match-"+s[25]),_(e,"class",r=H("match"+(s[25]===s[1]?" selected":""))+" svelte-117cwqa"),_(e,"role","option"),_(e,"tabindex",s[25]),_(e,"aria-selected",o=s[25]===s[1]?"true":"false")},m(d,c){E(d,e,c),t.m(n,e),w(e,l),a||(i=[V(e,"mouseenter",u),V(e,"mousedown",ke(m))],a=!0)},p(d,c){s=d,c&4&&n!==(n=s[23][1]+"")&&t.p(n),c&2&&r!==(r=H("match"+(s[25]===s[1]?" selected":""))+" svelte-117cwqa")&&_(e,"class",r),c&2&&o!==(o=s[25]===s[1]?"true":"false")&&_(e,"aria-selected",o)},d(d){d&&b(e),a=!1,fe(i)}}}function Ot(s){let e,t,n,l,r,o,a,i,u,m=s[5]&&Oe(),d=s[0].length>0&&Ne(s),c=s[4]&&Ge(s);return{c(){e=I("form"),t=I("div"),n=I("input"),r=S(),m&&m.c(),o=S(),d&&d.c(),a=S(),c&&c.c(),this.h()},l(f){e=y(f,"FORM",{});var p=T(e);t=y(p,"DIV",{id:!0,class:!0});var v=T(t);n=y(v,"INPUT",{type:!0,list:!0,id:!0,class:!0,autocomplete:!0,placeholder:!0,"aria-autocomplete":!0,"aria-expanded":!0,"aria-controls":!0,"aria-label":!0}),r=A(v),m&&m.l(v),o=A(v),d&&d.l(v),v.forEach(b),a=A(p),c&&c.l(p),p.forEach(b),this.h()},h(){_(n,"type","search"),_(n,"list","guess-autocomplete"),_(n,"id","guess"),_(n,"class",l=H(s[5]?"can-submit":"")+" svelte-117cwqa"),_(n,"autocomplete","off"),n.autofocus=!0,n.required=!0,_(n,"placeholder","Type a guess"),_(n,"aria-autocomplete","list"),_(n,"aria-expanded","false"),_(n,"aria-controls","matches"),_(n,"aria-label","Type a guess"),_(t,"id","search-box"),_(t,"class","svelte-117cwqa")},m(f,p){E(f,e,p),w(e,t),w(t,n),Me(n,s[0]),s[18](n),w(t,r),m&&m.m(t,null),w(t,o),d&&d.m(t,null),w(e,a),c&&c.m(e,null),n.focus(),i||(u=[V(n,"input",s[17]),V(n,"keydown",s[11]),V(e,"submit",ke(s[7]))],i=!0)},p(f,[p]){p&32&&l!==(l=H(f[5]?"can-submit":"")+" svelte-117cwqa")&&_(n,"class",l),p&1&&n.value!==f[0]&&Me(n,f[0]),f[5]?m||(m=Oe(),m.c(),m.m(t,o)):m&&(m.d(1),m=null),f[0].length>0?d?d.p(f,p):(d=Ne(f),d.c(),d.m(t,null)):d&&(d.d(1),d=null),f[4]?c?c.p(f,p):(c=Ge(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:j,o:j,d(f){f&&b(e),s[18](null),m&&m.d(),d&&d.d(),c&&c.d(),i=!1,fe(u)}}}const Nt=10;function Gt(s,e,t){let n,l,r,o;$(s,te,h=>t(21,o=h));let{answers:a}=e,i="",u=-1;const m=re([]);$(s,m,h=>t(2,r=h));let d,c,f="",p=!1;we(async()=>{t(13,d=new Lt),d.postMessage({answers:a}),t(13,d.onmessage=({data:h})=>{const{pastGuess:D,results:F}=h;i===D&&(m.set(F),i!==f&&(t(14,f=""),t(15,p=!1)),F.length>0?q(0):q(-1))},d)});let v;function k(){return a.includes(i)}function C(){if(n){const h=r[u][0];if(h!==i){B(h);return}}else if(!f||f!==i)return;oe.update(h=>[...h,i]),k()?se.set(!0):o<5?(te.update(h=>h+1),G()):se.set(!1)}function q(h){t(1,u=h),h===-1?(c.setAttribute("aria-expanded","false"),c.removeAttribute("aria-activedescendant")):(c.setAttribute("aria-expanded","true"),c.setAttribute("aria-activedescendant","match-"+h))}function B(h){t(0,i=h),t(14,f=i),t(15,p=!0)}function G(){t(0,i=""),t(14,f=""),c.focus()}function ee(h){u>=0&&(h.key==="ArrowDown"?u<r.length-1&&(q(u+1),h.preventDefault()):h.key==="ArrowUp"?u>0&&(q(u-1),h.preventDefault()):h.key==="Escape"&&G())}et(()=>{clearTimeout(v),d&&d.terminate()});function U(){i=this.value,t(0,i)}function P(h){ne[h?"unshift":"push"](()=>{c=h,t(3,c)})}const g=h=>q(h),M=(h,D)=>D.button===0&&B(h[0]);return s.$$set=h=>{"answers"in h&&t(12,a=h.answers)},s.$$.update=()=>{s.$$.dirty&49157&&t(4,n=i!==f&&!p&&r.length>0),s.$$.dirty&16391&&t(5,l=i&&(i===f||u===0&&i===r[0][0])),s.$$.dirty&73729&&(clearTimeout(v),t(16,v=setTimeout(()=>{d.postMessage({guess:i})},Nt)))},[i,u,r,c,n,l,m,C,q,B,G,ee,a,d,f,p,v,U,P,g,M]}class jt extends Y{constructor(e){super(),x(this,e,Gt,Ot,Q,{answers:12})}}function $e(s){let e,t;return{c(){e=I("script"),this.h()},l(n){e=y(n,"SCRIPT",{"data-goatcounter":!0,"data-goatcounter-settings":!0,src:!0});var l=T(e);l.forEach(b),this.h()},h(){_(e,"data-goatcounter","https://riddling.goatcounter.com/count"),_(e,"data-goatcounter-settings",'{"path": "'+s[1]+'"}'),e.async=!0,tt(e.src,t="//gc.zgo.at/count.js")||_(e,"src",t)},m(n,l){E(n,e,l)},p:j,d(n){n&&b(e)}}}function $t(s){let e,t,n="Share",l,r,o,a=!s[0]&&$e(s);return{c(){e=I("div"),t=I("button"),t.textContent=n,l=S(),a&&a.c()},l(i){e=y(i,"DIV",{});var u=T(e);t=y(u,"BUTTON",{"data-svelte-h":!0}),L(t)!=="svelte-8ttavy"&&(t.textContent=n),l=A(u),a&&a.l(u),u.forEach(b)},m(i,u){E(i,e,u),w(e,t),w(e,l),a&&a.m(e,null),r||(o=V(t,"click",s[2]),r=!0)},p(i,[u]){i[0]?a&&(a.d(1),a=null):a?a.p(i,u):(a=$e(i),a.c(),a.m(e,null))},i:j,o:j,d(i){i&&b(e),a&&a.d(),r=!1,o()}}}const Ut="https://riddl.ing",Ht=1;function Rt(s,e,t){let n,l;$(s,te,c=>t(4,n=c)),$(s,se,c=>t(5,l=c));let{today:r}=e,{isCustomGame:o=!1}=e;const a=l===!0?n:6,i="/"+r+"/s"+a,u=[["💯","👑","🧠","💡","🙈"],["💪","✌️","🤘","🙌","👍"],["🤯","😎","🧐","😀","🙃"],["🙇‍♀️","💁","🙆‍♀️","🤦","🤷"]];function m(){const c=`
${Ut}
 ${o?"custom game":r}
${d()}
`.trim();navigator.clipboard.writeText(c)}function d(){var c="";for(let f=0;f<a-1;f++)c+="❌";if(a===6)return c;c+=u[Ht%u.length][a-1];for(let f=a;f<5;f++)c+="❓";return c}return s.$$set=c=>{"today"in c&&t(3,r=c.today),"isCustomGame"in c&&t(0,o=c.isCustomGame)},[o,i,m,r]}class zt extends Y{constructor(e){super(),x(this,e,Rt,$t,Q,{today:3,isCustomGame:0})}}const Wt=",";async function Jt(s){const t=await(await fetch("/questions.json")).json();if(t[s]&&t[s].answers){const n=t[s].answers.split(Wt).map(l=>Kt(l));return{...t[s],answers:n}}else return null}function Kt(s){return s.toLowerCase()}function Xt(s){const e=s.replace(/-/g,"+").replace(/_/g,"/"),t=atob(e),n=Uint8Array.from(t,r=>r.codePointAt(0)??0);return new TextDecoder().decode(n)}function Ue(s,e,t){const n=s.slice();return n[10]=e[t],n[12]=t,n}function Zt(s){let e=(s[3]??"")+"",t;return{c(){t=K(e)},l(n){t=X(n,e)},m(n,l){E(n,t,l)},p(n,l){l&8&&e!==(e=(n[3]??"")+"")&&Z(t,e)},i:j,o:j,d(n){n&&b(t)}}}function Qt(s){let e,t,n,l=s[0].prompt+"",r,o,a,i,u,m,d,c,f=ue(s[4]),p=[];for(let g=0;g<f.length;g+=1)p[g]=ze(Ue(s,f,g));function v(g,M){if(g[5]===!0)return xt;if(g[5]===!1)return Yt}let k=v(s),C=k&&k(s);const q=[ts,es],B=[];function G(g,M){return g[5]===null?0:1}i=G(s),u=B[i]=q[i](s);function ee(g,M){return g[2]?ns:ss}let U=ee(s),P=U(s);return{c(){for(let g=0;g<p.length;g+=1)p[g].c();e=S(),t=I("div"),n=I("div"),r=K(l),o=S(),C&&C.c(),a=S(),u.c(),m=S(),P.c(),d=Se(),this.h()},l(g){for(let D=0;D<p.length;D+=1)p[D].l(g);e=A(g),t=y(g,"DIV",{class:!0});var M=T(t);n=y(M,"DIV",{});var h=T(n);r=X(h,l),h.forEach(b),o=A(M),C&&C.l(M),M.forEach(b),a=A(g),u.l(g),m=A(g),P.l(g),d=Se(),this.h()},h(){_(t,"class","clue svelte-k61n4a")},m(g,M){for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(g,M);E(g,e,M),E(g,t,M),w(t,n),w(n,r),w(t,o),C&&C.m(t,null),E(g,a,M),B[i].m(g,M),E(g,m,M),P.m(g,M),E(g,d,M),c=!0},p(g,M){if(M&240){f=ue(g[4]);let D;for(D=0;D<f.length;D+=1){const F=Ue(g,f,D);p[D]?p[D].p(F,M):(p[D]=ze(F),p[D].c(),p[D].m(e.parentNode,e))}for(;D<p.length;D+=1)p[D].d(1);p.length=f.length}(!c||M&1)&&l!==(l=g[0].prompt+"")&&Z(r,l),k===(k=v(g))&&C?C.p(g,M):(C&&C.d(1),C=k&&k(g),C&&(C.c(),C.m(t,null)));let h=i;i=G(g),i===h?B[i].p(g,M):(Ke(),N(B[h],1,1,()=>{B[h]=null}),Xe(),u=B[i],u?u.p(g,M):(u=B[i]=q[i](g),u.c()),O(u,1),u.m(m.parentNode,m)),U===(U=ee(g))&&P?P.p(g,M):(P.d(1),P=U(g),P&&(P.c(),P.m(d.parentNode,d)))},i(g){c||(O(u),c=!0)},o(g){N(u),c=!1},d(g){g&&(b(e),b(t),b(a),b(m),b(d)),Je(p,g),C&&C.d(),B[i].d(g),P.d(g)}}}function He(s){let e,t=s[10]+"",n,l;return{c(){e=I("div"),n=K(t),this.h()},l(r){e=y(r,"DIV",{class:!0});var o=T(e);n=X(o,t),o.forEach(b),this.h()},h(){_(e,"class",l=H("clue-question"+(s[5]!==null||s[12]<s[6]-1?" old":" new"))+" svelte-k61n4a")},m(r,o){E(r,e,o),w(e,n)},p(r,o){o&16&&t!==(t=r[10]+"")&&Z(n,t),o&96&&l!==(l=H("clue-question"+(r[5]!==null||r[12]<r[6]-1?" old":" new"))+" svelte-k61n4a")&&_(e,"class",l)},d(r){r&&b(e)}}}function Re(s){let e,t=(s[7][s[12]]??"")+"",n,l,r=s[5]&&s[12]===s[6]-1?"✅":s[7][s[12]]?"❌":"",o,a;return{c(){e=I("div"),n=K(t),l=S(),o=K(r),this.h()},l(i){e=y(i,"DIV",{class:!0});var u=T(e);n=X(u,t),l=A(u),o=X(u,r),u.forEach(b),this.h()},h(){_(e,"class",a=H("clue-guess"+(s[5]&&s[12]===s[6]-1?" correct":""))+" svelte-k61n4a")},m(i,u){E(i,e,u),w(e,n),w(e,l),w(e,o)},p(i,u){u&128&&t!==(t=(i[7][i[12]]??"")+"")&&Z(n,t),u&224&&r!==(r=i[5]&&i[12]===i[6]-1?"✅":i[7][i[12]]?"❌":"")&&Z(o,r),u&96&&a!==(a=H("clue-guess"+(i[5]&&i[12]===i[6]-1?" correct":""))+" svelte-k61n4a")&&_(e,"class",a)},d(i){i&&b(e)}}}function ze(s){let e,t,n=(s[5]!==null||s[12]<s[6])&&He(s),l=(s[5]!==null||s[12]<s[6]-1)&&Re(s);return{c(){e=I("div"),n&&n.c(),t=S(),l&&l.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var o=T(e);n&&n.l(o),t=A(o),l&&l.l(o),o.forEach(b),this.h()},h(){_(e,"class","clue svelte-k61n4a")},m(r,o){E(r,e,o),n&&n.m(e,null),w(e,t),l&&l.m(e,null)},p(r,o){r[5]!==null||r[12]<r[6]?n?n.p(r,o):(n=He(r),n.c(),n.m(e,t)):n&&(n.d(1),n=null),r[5]!==null||r[12]<r[6]-1?l?l.p(r,o):(l=Re(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(r){r&&b(e),n&&n.d(),l&&l.d()}}}function Yt(s){let e,t=s[0].answers[0]+"",n;return{c(){e=I("div"),n=K(t),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=T(e);n=X(r,t),r.forEach(b),this.h()},h(){_(e,"class","answer svelte-k61n4a")},m(l,r){E(l,e,r),w(e,n)},p(l,r){r&1&&t!==(t=l[0].answers[0]+"")&&Z(n,t)},d(l){l&&b(e)}}}function xt(s){let e,t=s[0].answers[0]+"",n;return{c(){e=I("div"),n=K(t),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=T(e);n=X(r,t),r.forEach(b),this.h()},h(){_(e,"class","answer svelte-k61n4a")},m(l,r){E(l,e,r),w(e,n)},p(l,r){r&1&&t!==(t=l[0].answers[0]+"")&&Z(n,t)},d(l){l&&b(e)}}}function es(s){let e,t;return e=new zt({props:{today:s[1],isCustomGame:s[2]}}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.today=n[1]),l&4&&(r.isCustomGame=n[2]),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ts(s){let e,t;return e=new jt({props:{answers:s[0].answers}}),{c(){R(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){W(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.answers=n[0].answers),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ss(s){let e,t;return{c(){e=I("div"),t=K(s[1]),this.h()},l(n){e=y(n,"DIV",{class:!0});var l=T(e);t=X(l,s[1]),l.forEach(b),this.h()},h(){_(e,"class","game-info svelte-k61n4a")},m(n,l){E(n,e,l),w(e,t)},p(n,l){l&2&&Z(t,n[1])},d(n){n&&b(e)}}}function ns(s){let e,t="Custom game";return{c(){e=I("div"),e.textContent=t,this.h()},l(n){e=y(n,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-euiemb"&&(e.textContent=t),this.h()},h(){_(e,"class","game-info svelte-k61n4a")},m(n,l){E(n,e,l)},p:j,d(n){n&&b(e)}}}function ls(s){let e,t,n,l;const r=[Qt,Zt],o=[];function a(i,u){return i[4]&&!i[3]?0:1}return t=a(s),n=o[t]=r[t](s),{c(){e=I("div"),n.c(),this.h()},l(i){e=y(i,"DIV",{id:!0,class:!0});var u=T(e);n.l(u),u.forEach(b),this.h()},h(){_(e,"id","game"),_(e,"class","svelte-k61n4a")},m(i,u){E(i,e,u),o[t].m(e,null),l=!0},p(i,[u]){let m=t;t=a(i),t===m?o[t].p(i,u):(Ke(),N(o[m],1,1,()=>{o[m]=null}),Xe(),n=o[t],n?n.p(i,u):(n=o[t]=r[t](i),n.c()),O(n,1),n.m(e,null))},i(i){l||(O(n),l=!0)},o(i){N(n),l=!1},d(i){i&&b(e),o[t].d()}}}function rs(s,e,t){let n,l,r,o;$(s,se,f=>t(5,l=f)),$(s,te,f=>t(6,r=f)),$(s,oe,f=>t(7,o=f));let a,i,u=!1;we(async()=>{const f=new Date().getTimezoneOffset()*6e4,p=new Date(Date.now()-f).toISOString();t(1,i=p.split("T")[0]);const v=await c();if(v)t(2,u=!0),t(0,a=v);else if(!m){const k=await Jt(i);k?(t(0,a=k),await d(i)):t(3,m="No game today ):")}});let m;async function d(f){const p=localStorage.getItem(f);if(p){const{questions:v,won:k,guesses:C}=JSON.parse(p);te.set(v),se.set(k),oe.set(C)}te.subscribe(v=>{localStorage.setItem(f,JSON.stringify({questions:v,won:l,guesses:o}))}),se.subscribe(v=>{localStorage.setItem(f,JSON.stringify({questions:r,won:v,guesses:o}))}),oe.subscribe(v=>{localStorage.setItem(f,JSON.stringify({questions:r,won:l,guesses:v}))})}async function c(){const p=new URL(window.location.href).searchParams.get("game");if(p)try{const v=JSON.parse(Xt(p));if(v&&v.answers&&v.prompt&&v.q1&&v.q2&&v.q3&&v.q4&&v.q5)return v;throw new Error("Invalid custom game.")}catch{return console.error("Invalid custom game."),t(3,m="Invalid custom game."),null}return null}return s.$$.update=()=>{s.$$.dirty&1&&t(4,n=a?[a.q1,a.q2,a.q3,a.q4,a.q5]:null)},t(3,m=null),[a,i,u,m,n,l,r,o]}class os extends Y{constructor(e){super(),x(this,e,rs,ls,Q,{})}}function is(s){let e,t,n,l;return e=new Vt({}),n=new os({}),{c(){R(e.$$.fragment),t=S(),R(n.$$.fragment)},l(r){z(e.$$.fragment,r),t=A(r),z(n.$$.fragment,r)},m(r,o){W(e,r,o),E(r,t,o),W(n,r,o),l=!0},p:j,i(r){l||(O(e.$$.fragment,r),O(n.$$.fragment,r),l=!0)},o(r){N(e.$$.fragment,r),N(n.$$.fragment,r),l=!1},d(r){r&&b(t),J(e,r),J(n,r)}}}class fs extends Y{constructor(e){super(),x(this,e,null,is,Q,{})}}export{fs as component};
