import{w as Ee,x as me,s as oe,e as q,a as O,c as V,b as G,y as se,g as B,f as p,p as E,i as k,h as C,z as Fe,n as L,k as K,A as Se,r as De,o as qe,v as Ve,t as T,d as A,j as P,l as re,B as Ge,C as Q,D as ie}from"../chunks/scheduler.I2lLq2bV.js";import{S as ue,i as fe,g as R,t as I,c as J,a as w,b as W,d as X,m as Z,e as x,f as $}from"../chunks/index.C3uW-dve.js";import{c as Te,g as Ae,a as Ne,i as Oe,e as de,G as Be}from"../chunks/GuessBox.Ds-d_S9N.js";import{r as Ue}from"../chunks/entry.CTNVFuE0.js";import{b as je}from"../chunks/paths.Dm4ot7rl.js";import{q as te,w as le,g as ne,C as pe,I as Ce}from"../chunks/consts.CKMQHKKq.js";import{p as $e}from"../chunks/stores.D4CWVpFP.js";function z(s,{delay:e=0,duration:t=400,easing:l=Ee}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:l,css:i=>`opacity: ${i*r}`}}function ze(s,{delay:e=0,duration:t=400,easing:l=Te,x:r=0,y:i=0,opacity:n=0}={}){const o=getComputedStyle(s),u=+o.opacity,b=o.transform==="none"?"":o.transform,v=u*(1-n),[c,y]=me(r),[h,_]=me(i);return{delay:e,duration:t,easing:l,css:(m,a)=>`
			transform: ${b} translate(${(1-m)*c}${y}, ${(1-m)*h}${_});
			opacity: ${u-v*a}`}}function ve(s){let e,t;return{c(){e=q("script"),this.h()},l(l){e=V(l,"SCRIPT",{"data-goatcounter":!0,"data-goatcounter-settings":!0,src:!0});var r=G(e);r.forEach(p),this.h()},h(){E(e,"data-goatcounter","https://riddling.goatcounter.com/count"),E(e,"data-goatcounter-settings",'{"path": "'+s[2]+'"}'),e.async=!0,Se(e.src,t="//gc.zgo.at/count.js")||E(e,"src",t)},m(l,r){k(l,e,r)},p:L,d(l){l&&p(e)}}}function Me(s){let e,t,l="Share",r,i,n="Copied to clipboard!",o,u,b,v=!s[0]&&ve(s);return{c(){e=q("div"),t=q("button"),t.textContent=l,r=O(),i=q("div"),i.textContent=n,o=O(),v&&v.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var y=G(e);t=V(y,"BUTTON",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-8ttavy"&&(t.textContent=l),r=B(y),i=V(y,"DIV",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-1yjkaez"&&(i.textContent=n),o=B(y),v&&v.l(y),y.forEach(p),this.h()},h(){E(t,"class","svelte-x0r178"),E(i,"class","tooltip svelte-x0r178"),E(e,"class","share svelte-x0r178")},m(c,y){k(c,e,y),C(e,t),C(e,r),C(e,i),s[5](i),C(e,o),v&&v.m(e,null),u||(b=Fe(t,"click",s[3]),u=!0)},p(c,[y]){c[0]?v&&(v.d(1),v=null):v?v.p(c,y):(v=ve(c),v.c(),v.m(e,null))},i:L,o:L,d(c){c&&p(e),s[5](null),v&&v.d(),u=!1,b()}}}const Re="https://riddl.ing",Je=2;function Le(s,e,t){let l,r,i;K(s,$e,a=>t(7,l=a)),K(s,te,a=>t(8,r=a)),K(s,le,a=>t(9,i=a));let{today:n}=e,{isCustomGame:o=!1}=e,u,b;const v=i===!0?r:6,c="/"+n+"/s"+v,y=[["💯","👑","🧠","💡","🙈"],["💪","✌️","🤘","🙌","👍"],["🤯","😎","🤩","😀","🙃"],["🙇‍♀️","💁","🙆‍♀️","🤦","🤷"]];function h(){const d=`
${l.url??Re}
 ${o?"custom riddle":n}
${_()}
`.trim();navigator.clipboard.writeText(d),b&&clearTimeout(b),t(1,u.style.visibility="visible",u),t(1,u.style.transition="opacity 0.1s",u),t(1,u.style.opacity="1",u),b=setTimeout(()=>{t(1,u.style.transition="opacity 0.5s",u),t(1,u.style.opacity="0",u)},1e3)}function _(){var a="";for(let d=0;d<v-1;d++)a+="❌";if(v===6)return a;a+=y[Je%y.length][v-1];for(let d=v;d<5;d++)a+="❔";return a}function m(a){De[a?"unshift":"push"](()=>{u=a,t(1,u)})}return s.$$set=a=>{"today"in a&&t(4,n=a.today),"isCustomGame"in a&&t(0,o=a.isCustomGame)},[o,u,c,h,n,m]}class Pe extends ue{constructor(e){super(),fe(this,e,Le,Me,oe,{today:4,isCustomGame:0})}}function he(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function Ye(s){let e=(s[3]??"")+"",t;return{c(){t=T(e)},l(l){t=A(l,e)},m(l,r){k(l,t,r)},p(l,r){r&8&&e!==(e=(l[3]??"")+"")&&P(t,e)},i:L,o:L,d(l){l&&p(t)}}}function He(s){let e,t,l,r=s[0].prompt+"",i,n,o,u,b,v,c,y,h,_,m,a=de(s[4]),d=[];for(let f=0;f<a.length;f+=1)d[f]=ke(he(s,a,f));const Y=f=>I(d[f],1,1,()=>{d[f]=null}),ae=[Xe,We],M=[];function ce(f,g){return f[5]===!0?0:f[5]===!1?1:-1}~(o=ce(s))&&(u=M[o]=ae[o](s));let F=s[5]===null&&ye(s);function _e(f,g){return f[2]?xe:Ze}let ee=_e(s),U=ee(s),N=s[0].message&&we(s),S=s[5]!==null&&Ie(s);return{c(){for(let f=0;f<d.length;f+=1)d[f].c();e=O(),t=q("div"),l=q("div"),i=T(r),n=O(),u&&u.c(),b=O(),F&&F.c(),v=O(),c=q("div"),U.c(),y=O(),N&&N.c(),h=O(),S&&S.c(),_=re(),this.h()},l(f){for(let H=0;H<d.length;H+=1)d[H].l(f);e=B(f),t=V(f,"DIV",{class:!0});var g=G(t);l=V(g,"DIV",{});var j=G(l);i=A(j,r),j.forEach(p),n=B(g),u&&u.l(g),g.forEach(p),b=B(f),F&&F.l(f),v=B(f),c=V(f,"DIV",{class:!0});var D=G(c);U.l(D),y=B(D),N&&N.l(D),D.forEach(p),h=B(f),S&&S.l(f),_=re(),this.h()},h(){E(t,"class","clue svelte-6n6vu3"),E(c,"class","game-info svelte-6n6vu3")},m(f,g){for(let j=0;j<d.length;j+=1)d[j]&&d[j].m(f,g);k(f,e,g),k(f,t,g),C(t,l),C(l,i),C(t,n),~o&&M[o].m(t,null),k(f,b,g),F&&F.m(f,g),k(f,v,g),k(f,c,g),U.m(c,null),C(c,y),N&&N.m(c,null),k(f,h,g),S&&S.m(f,g),k(f,_,g),m=!0},p(f,g){if(g&240){a=de(f[4]);let D;for(D=0;D<a.length;D+=1){const H=he(f,a,D);d[D]?(d[D].p(H,g),w(d[D],1)):(d[D]=ke(H),d[D].c(),w(d[D],1),d[D].m(e.parentNode,e))}for(R(),D=a.length;D<d.length;D+=1)Y(D);J()}(!m||g&1)&&r!==(r=f[0].prompt+"")&&P(i,r);let j=o;o=ce(f),o===j?~o&&M[o].p(f,g):(u&&(R(),I(M[j],1,1,()=>{M[j]=null}),J()),~o?(u=M[o],u?u.p(f,g):(u=M[o]=ae[o](f),u.c()),w(u,1),u.m(t,null)):u=null),f[5]===null?F?(F.p(f,g),g&32&&w(F,1)):(F=ye(f),F.c(),w(F,1),F.m(v.parentNode,v)):F&&(R(),I(F,1,1,()=>{F=null}),J()),ee===(ee=_e(f))&&U?U.p(f,g):(U.d(1),U=ee(f),U&&(U.c(),U.m(c,y))),f[0].message?N?N.p(f,g):(N=we(f),N.c(),N.m(c,null)):N&&(N.d(1),N=null),f[5]!==null?S?(S.p(f,g),g&32&&w(S,1)):(S=Ie(f),S.c(),w(S,1),S.m(_.parentNode,_)):S&&(R(),I(S,1,1,()=>{S=null}),J())},i(f){if(!m){for(let g=0;g<a.length;g+=1)w(d[g]);w(u),w(F),w(S),m=!0}},o(f){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)I(d[g]);I(u),I(F),I(S),m=!1},d(f){f&&(p(e),p(t),p(b),p(v),p(c),p(h),p(_)),Ge(d,f),~o&&M[o].d(),F&&F.d(f),U.d(),N&&N.d(),S&&S.d(f)}}}function ge(s){let e,t=s[11]+"",l,r,i,n;return{c(){e=q("div"),l=T(t),this.h()},l(o){e=V(o,"DIV",{class:!0});var u=G(e);l=A(u,t),u.forEach(p),this.h()},h(){E(e,"class",r=ie("clue-question"+(s[5]!==null||s[13]<s[6]-1?" old":" new"))+" svelte-6n6vu3")},m(o,u){k(o,e,u),C(e,l),n=!0},p(o,u){(!n||u&16)&&t!==(t=o[11]+"")&&P(l,t),(!n||u&96&&r!==(r=ie("clue-question"+(o[5]!==null||o[13]<o[6]-1?" old":" new"))+" svelte-6n6vu3"))&&E(e,"class",r)},i(o){n||(o&&Q(()=>{n&&(i||(i=$(e,s[8],{},!0)),i.run(1))}),n=!0)},o(o){o&&(i||(i=$(e,s[8],{},!1)),i.run(0)),n=!1},d(o){o&&p(e),o&&i&&i.end()}}}function be(s){let e,t=(s[7][s[13]]??"")+"",l,r,i,n,o,u,b;const v=[Qe,Ke],c=[];function y(h,_){return h[5]&&h[13]===h[6]-1?0:h[7][h[13]]?1:-1}return~(i=y(s))&&(n=c[i]=v[i](s)),{c(){e=q("div"),l=T(t),r=O(),n&&n.c(),this.h()},l(h){e=V(h,"DIV",{class:!0});var _=G(e);l=A(_,t),r=B(_),n&&n.l(_),_.forEach(p),this.h()},h(){E(e,"class",o=ie("clue-guess"+(s[5]&&s[13]===s[6]-1?" correct":""))+" svelte-6n6vu3")},m(h,_){k(h,e,_),C(e,l),C(e,r),~i&&c[i].m(e,null),b=!0},p(h,_){(!b||_&128)&&t!==(t=(h[7][h[13]]??"")+"")&&P(l,t);let m=i;i=y(h),i!==m&&(n&&(R(),I(c[m],1,1,()=>{c[m]=null}),J()),~i?(n=c[i],n||(n=c[i]=v[i](h),n.c()),w(n,1),n.m(e,null)):n=null),(!b||_&96&&o!==(o=ie("clue-guess"+(h[5]&&h[13]===h[6]-1?" correct":""))+" svelte-6n6vu3"))&&E(e,"class",o)},i(h){b||(w(n),h&&Q(()=>{b&&(u||(u=$(e,z,{},!0)),u.run(1))}),b=!0)},o(h){I(n),h&&(u||(u=$(e,z,{},!1)),u.run(0)),b=!1},d(h){h&&p(e),~i&&c[i].d(),h&&u&&u.end()}}}function Ke(s){let e,t;return e=new Ce({props:{image:"cross",color:"var(--color-incorrect)",alt:"incorrect"}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Qe(s){let e,t;return e=new Ce({props:{image:"check",color:"var(--color-correct)",alt:"correct"}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ke(s){let e,t,l,r=(s[5]!==null||s[13]<s[6])&&ge(s),i=(s[5]!==null||s[13]<s[6]-1)&&be(s);return{c(){e=q("div"),r&&r.c(),t=O(),i&&i.c(),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=G(e);r&&r.l(o),t=B(o),i&&i.l(o),o.forEach(p),this.h()},h(){E(e,"class","clue svelte-6n6vu3")},m(n,o){k(n,e,o),r&&r.m(e,null),C(e,t),i&&i.m(e,null),l=!0},p(n,o){n[5]!==null||n[13]<n[6]?r?(r.p(n,o),o&96&&w(r,1)):(r=ge(n),r.c(),w(r,1),r.m(e,t)):r&&(R(),I(r,1,1,()=>{r=null}),J()),n[5]!==null||n[13]<n[6]-1?i?(i.p(n,o),o&96&&w(i,1)):(i=be(n),i.c(),w(i,1),i.m(e,null)):i&&(R(),I(i,1,1,()=>{i=null}),J())},i(n){l||(w(r),w(i),l=!0)},o(n){I(r),I(i),l=!1},d(n){n&&p(e),r&&r.d(),i&&i.d()}}}function We(s){let e,t=s[0].answers[0]+"",l,r,i;return{c(){e=q("div"),l=T(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=G(e);l=A(o,t),o.forEach(p),this.h()},h(){E(e,"class","answer svelte-6n6vu3")},m(n,o){k(n,e,o),C(e,l),i=!0},p(n,o){(!i||o&1)&&t!==(t=n[0].answers[0]+"")&&P(l,t)},i(n){i||(n&&Q(()=>{i&&(r||(r=$(e,z,{},!0)),r.run(1))}),i=!0)},o(n){n&&(r||(r=$(e,z,{},!1)),r.run(0)),i=!1},d(n){n&&p(e),n&&r&&r.end()}}}function Xe(s){let e,t=s[0].answers[0]+"",l,r,i;return{c(){e=q("div"),l=T(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=G(e);l=A(o,t),o.forEach(p),this.h()},h(){E(e,"class","answer svelte-6n6vu3")},m(n,o){k(n,e,o),C(e,l),i=!0},p(n,o){(!i||o&1)&&t!==(t=n[0].answers[0]+"")&&P(l,t)},i(n){i||(n&&Q(()=>{i&&(r||(r=$(e,z,{},!0)),r.run(1))}),i=!0)},o(n){n&&(r||(r=$(e,z,{},!1)),r.run(0)),i=!1},d(n){n&&p(e),n&&r&&r.end()}}}function ye(s){let e,t;return e=new Be({props:{answers:s[0].answers}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.answers=l[0].answers),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ze(s){let e,t;return{c(){e=q("div"),t=T(s[1])},l(l){e=V(l,"DIV",{});var r=G(e);t=A(r,s[1]),r.forEach(p)},m(l,r){k(l,e,r),C(e,t)},p(l,r){r&2&&P(t,l[1])},d(l){l&&p(e)}}}function xe(s){let e,t;return{c(){e=q("div"),t=T(pe)},l(l){e=V(l,"DIV",{});var r=G(e);t=A(r,pe),r.forEach(p)},m(l,r){k(l,e,r),C(e,t)},p:L,d(l){l&&p(e)}}}function we(s){let e,t=s[0].message+"",l;return{c(){e=q("div"),l=T(t)},l(r){e=V(r,"DIV",{});var i=G(e);l=A(i,t),i.forEach(p)},m(r,i){k(r,e,i),C(e,l)},p(r,i){i&1&&t!==(t=r[0].message+"")&&P(l,t)},d(r){r&&p(e)}}}function Ie(s){let e,t,l,r,i,n,o,u;function b(m,a){return m[5]===!0?tt:et}let v=b(s),c=v(s);r=new Pe({props:{today:s[1],isCustomGame:s[2]}});function y(m,a){return m[2]?ut:ot}let h=y(s),_=h(s);return{c(){e=q("div"),t=q("div"),c.c(),l=O(),W(r.$$.fragment),i=O(),n=q("div"),_.c(),this.h()},l(m){e=V(m,"DIV",{class:!0});var a=G(e);t=V(a,"DIV",{});var d=G(t);c.l(d),d.forEach(p),l=B(a),X(r.$$.fragment,a),i=B(a),n=V(a,"DIV",{class:!0});var Y=G(n);_.l(Y),Y.forEach(p),a.forEach(p),this.h()},h(){E(n,"class","next svelte-6n6vu3"),E(e,"class","game-over svelte-6n6vu3")},m(m,a){k(m,e,a),C(e,t),c.m(t,null),C(e,l),Z(r,e,null),C(e,i),C(e,n),_.m(n,null),u=!0},p(m,a){v===(v=b(m))&&c?c.p(m,a):(c.d(1),c=v(m),c&&(c.c(),c.m(t,null)));const d={};a&2&&(d.today=m[1]),a&4&&(d.isCustomGame=m[2]),r.$set(d),h!==(h=y(m))&&(_.d(1),_=h(m),_&&(_.c(),_.m(n,null)))},i(m){u||(w(r.$$.fragment,m),m&&Q(()=>{u&&(o||(o=$(e,z,{},!0)),o.run(1))}),u=!0)},o(m){I(r.$$.fragment,m),m&&(o||(o=$(e,z,{},!1)),o.run(0)),u=!1},d(m){m&&p(e),c.d(),x(r),_.d(),m&&o&&o.end()}}}function et(s){let e;return{c(){e=T("Better luck next time!")},l(t){e=A(t,"Better luck next time!")},m(t,l){k(t,e,l)},p:L,d(t){t&&p(e)}}}function tt(s){let e;function t(i,n){if(i[6]===1)return st;if(i[6]===2)return nt;if(i[6]===3)return it;if(i[6]===4)return rt;if(i[6]===5)return lt}let l=t(s),r=l&&l(s);return{c(){r&&r.c(),e=re()},l(i){r&&r.l(i),e=re()},m(i,n){r&&r.m(i,n),k(i,e,n)},p(i,n){l!==(l=t(i))&&(r&&r.d(1),r=l&&l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&p(e),r&&r.d(i)}}}function lt(s){let e;return{c(){e=T("Riddled!")},l(t){e=A(t,"Riddled!")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function rt(s){let e;return{c(){e=T("You got it!")},l(t){e=A(t,"You got it!")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function it(s){let e;return{c(){e=T("Third time’s the charm!")},l(t){e=A(t,"Third time’s the charm!")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function nt(s){let e;return{c(){e=T("Lucky guess!")},l(t){e=A(t,"Lucky guess!")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function st(s){let e;return{c(){e=T("You read my mind!")},l(t){e=A(t,"You read my mind!")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function ot(s){let e;return{c(){e=T("next riddle at midnight")},l(t){e=A(t,"next riddle at midnight")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function ut(s){let e,t,l="today’s riddle";return{c(){e=T("try "),t=q("a"),t.textContent=l,this.h()},l(r){e=A(r,"try "),t=V(r,"A",{"data-sveltekit-reload":!0,href:!0,"data-svelte-h":!0}),se(t)!=="svelte-449iqt"&&(t.textContent=l),this.h()},h(){E(t,"data-sveltekit-reload",""),E(t,"href",je+"/")},m(r,i){k(r,e,i),k(r,t,i)},d(r){r&&(p(e),p(t))}}}function ft(s){let e,t,l,r;const i=[He,Ye],n=[];function o(u,b){return u[4]&&!u[3]?0:1}return t=o(s),l=n[t]=i[t](s),{c(){e=q("div"),l.c(),this.h()},l(u){e=V(u,"DIV",{id:!0,class:!0});var b=G(e);l.l(b),b.forEach(p),this.h()},h(){E(e,"id","game"),E(e,"class","svelte-6n6vu3")},m(u,b){k(u,e,b),n[t].m(e,null),r=!0},p(u,[b]){let v=t;t=o(u),t===v?n[t].p(u,b):(R(),I(n[v],1,1,()=>{n[v]=null}),J(),l=n[t],l?l.p(u,b):(l=n[t]=i[t](u),l.c()),w(l,1),l.m(e,null))},i(u){r||(w(l),r=!0)},o(u){I(l),r=!1},d(u){u&&p(e),n[t].d()}}}function at(s,e,t){let l,r,i,n;K(s,le,_=>t(5,r=_)),K(s,te,_=>t(6,i=_)),K(s,ne,_=>t(7,n=_));let o,u,b=!1;function v(_){return r!==null?z(_):ze(_,{duration:600,delay:600,x:100})}qe(async()=>{const _=new Date().getTimezoneOffset()*6e4,m=new Date(Date.now()-_).toISOString();t(1,u=m.split("T")[0]);const a=await h();if(a)t(2,b=!0),t(0,o=a);else if(!c){const d=await Ae(u);d?(t(0,o=d),await y(u)):t(3,c="No game today ):")}});let c;async function y(_){const m=localStorage.getItem(_);if(m){const{questions:a,won:d,guesses:Y}=JSON.parse(m);te.set(a),le.set(d),ne.set(Y)}te.subscribe(a=>{localStorage.setItem(_,JSON.stringify({questions:a,won:r,guesses:n}))}),le.subscribe(a=>{localStorage.setItem(_,JSON.stringify({questions:i,won:a,guesses:n}))}),ne.subscribe(a=>{localStorage.setItem(_,JSON.stringify({questions:i,won:r,guesses:a}))})}async function h(){const m=new URL(window.location.href).searchParams.get("game");if(m)try{const[a,d]=Ne(m);if(Oe(a))return d&&(async()=>(await Ve(),Ue(d,{})))(),a;throw new Error("Invalid custom game.")}catch{return console.error("Invalid custom game."),t(3,c="Invalid custom game."),null}return null}return s.$$.update=()=>{s.$$.dirty&1&&t(4,l=o?[o.q1,o.q2,o.q3,o.q4,o.q5]:null)},t(3,c=null),[o,u,b,c,l,r,i,n,v]}class ct extends ue{constructor(e){super(),fe(this,e,at,ft,oe,{})}}function _t(s){let e,t;return e=new ct({}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p:L,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}class kt extends ue{constructor(e){super(),fe(this,e,null,_t,oe,{})}}export{kt as component};
