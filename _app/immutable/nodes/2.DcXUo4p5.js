import{w as Se,x as de,s as fe,e as V,a as j,c as G,b as T,y as ue,g as B,f as m,p as I,i as w,h as F,z as Fe,n as H,k as L,A as Ie,r as De,o as qe,t as A,d as N,j as K,l as ne,B as Ve,C as X,D as oe}from"../chunks/scheduler.B2WPYNQO.js";import{S as ae,i as ce,g as P,t as S,c as $,a as C,b as Z,d as x,m as ee,e as te,f as R}from"../chunks/index.Dz5wAHIS.js";import{c as Ge,g as Te,a as Ae,e as me,G as Ne}from"../chunks/GuessBox.BGjgRYIS.js";import{b as Oe}from"../chunks/entry.U9t8C6mk.js";import{d as je,g as re,w as ie,q as se,C as pe,I as Ee}from"../chunks/consts.-GCzj_zX.js";import{p as Be}from"../chunks/stores.CO_LFYTx.js";function Y(n,{delay:e=0,duration:t=400,easing:l=Se}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:i=>`opacity: ${i*r}`}}function ze(n,{delay:e=0,duration:t=400,easing:l=Ge,x:r=0,y:i=0,opacity:s=0}={}){const o=getComputedStyle(n),u=+o.opacity,v=o.transform==="none"?"":o.transform,c=u*(1-s),[_,y]=de(r),[a,p]=de(i);return{delay:e,duration:t,easing:l,css:(d,b)=>`
			transform: ${v} translate(${(1-d)*_}${y}, ${(1-d)*a}${p});
			opacity: ${u-c*b}`}}function he(n){let e,t;return{c(){e=V("script"),this.h()},l(l){e=G(l,"SCRIPT",{"data-goatcounter":!0,"data-goatcounter-settings":!0,src:!0});var r=T(e);r.forEach(m),this.h()},h(){I(e,"data-goatcounter","https://riddling.goatcounter.com/count"),I(e,"data-goatcounter-settings",'{"path": "'+n[2]+'"}'),e.async=!0,Ie(e.src,t="//gc.zgo.at/count.js")||I(e,"src",t)},m(l,r){w(l,e,r)},p:H,d(l){l&&m(e)}}}function Me(n){let e,t,l="Share",r,i,s="Copied to clipboard!",o,u,v,c=!n[0]&&he(n);return{c(){e=V("div"),t=V("button"),t.textContent=l,r=j(),i=V("div"),i.textContent=s,o=j(),c&&c.c(),this.h()},l(_){e=G(_,"DIV",{class:!0});var y=T(e);t=G(y,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-8ttavy"&&(t.textContent=l),r=B(y),i=G(y,"DIV",{class:!0,"data-svelte-h":!0}),ue(i)!=="svelte-1yjkaez"&&(i.textContent=s),o=B(y),c&&c.l(y),y.forEach(m),this.h()},h(){I(t,"class","svelte-x0r178"),I(i,"class","tooltip svelte-x0r178"),I(e,"class","share svelte-x0r178")},m(_,y){w(_,e,y),F(e,t),F(e,r),F(e,i),n[5](i),F(e,o),c&&c.m(e,null),u||(v=Fe(t,"click",n[3]),u=!0)},p(_,[y]){_[0]?c&&(c.d(1),c=null):c?c.p(_,y):(c=he(_),c.c(),c.m(e,null))},i:H,o:H,d(_){_&&m(e),n[5](null),c&&c.d(),u=!1,v()}}}const Ue="https://riddl.ing",Je=2;function Re(n,e,t){let l,r,i,s,o;L(n,je,k=>t(7,l=k)),L(n,re,k=>t(8,r=k)),L(n,ie,k=>t(9,i=k)),L(n,Be,k=>t(10,s=k)),L(n,se,k=>t(11,o=k));let{today:u}=e,{isCustomGame:v=!1}=e,c,_;const y=i===!0?o:6,a="/"+u+"/s"+y,p=[["💯","👑","🧠","💡","🙈"],["💪","✌️","🤘","🙌","👍"],["🤯","😎","🤩","😀","🙃"],["🙇‍♀️","💁","🙆‍♀️","🤦","🤷"]];function d(){let k=s.url.toString()??Ue;l&&(k=`[${s.url.hostname??"riddl.ing"}](<${k}>)`);const U=(()=>{let Q=i===!0?r.slice(0,-1):r;return Q.length===0?"":(Q=Q.map(E=>E.padEnd(5," ")),l?"||`"+Q.join("`||  ||`")+"`||":"")})(),J=`
${k}
 ${v?"custom riddle":u}
${b()}
${U}
`.trim();navigator.clipboard.writeText(J),_&&clearTimeout(_),t(1,c.style.visibility="visible",c),t(1,c.style.transition="opacity 0.1s",c),t(1,c.style.opacity="1",c),_=setTimeout(()=>{t(1,c.style.transition="opacity 0.5s",c),t(1,c.style.opacity="0",c)},1e3)}function b(){var k="";for(let U=0;U<y-1;U++)k+="❌";if(y===6)return k;k+=p[Je%p.length][y-1];for(let U=y;U<5;U++)k+="❔";return k}function g(k){De[k?"unshift":"push"](()=>{c=k,t(1,c)})}return n.$$set=k=>{"today"in k&&t(4,u=k.today),"isCustomGame"in k&&t(0,v=k.isCustomGame)},[v,c,a,d,u,g]}class Ye extends ae{constructor(e){super(),ce(this,e,Re,Me,fe,{today:4,isCustomGame:0})}}function ve(n,e,t){const l=n.slice();return l[10]=e[t],l[12]=t,l}function Le(n){let e=(n[3]??"")+"",t;return{c(){t=A(e)},l(l){t=N(l,e)},m(l,r){w(l,t,r)},p(l,r){r&8&&e!==(e=(l[3]??"")+"")&&K(t,e)},i:H,o:H,d(l){l&&m(t)}}}function Pe(n){let e,t,l,r=n[0].prompt+"",i,s,o,u,v,c,_,y,a,p,d,b=me(n[4]),g=[];for(let f=0;f<b.length;f+=1)g[f]=ke(ve(n,b,f));const k=f=>S(g[f],1,1,()=>{g[f]=null}),U=[Qe,Ke],J=[];function Q(f,h){return f[5]===!0?0:f[5]===!1?1:-1}~(o=Q(n))&&(u=J[o]=U[o](n));let E=n[5]===null&&ye(n);function _e(f,h){return f[2]?Xe:We}let le=_e(n),z=le(n),O=n[0].message&&we(n),D=n[5]!==null&&Ce(n);return{c(){for(let f=0;f<g.length;f+=1)g[f].c();e=j(),t=V("div"),l=V("div"),i=A(r),s=j(),u&&u.c(),v=j(),E&&E.c(),c=j(),_=V("div"),z.c(),y=j(),O&&O.c(),a=j(),D&&D.c(),p=ne(),this.h()},l(f){for(let W=0;W<g.length;W+=1)g[W].l(f);e=B(f),t=G(f,"DIV",{class:!0});var h=T(t);l=G(h,"DIV",{});var M=T(l);i=N(M,r),M.forEach(m),s=B(h),u&&u.l(h),h.forEach(m),v=B(f),E&&E.l(f),c=B(f),_=G(f,"DIV",{class:!0});var q=T(_);z.l(q),y=B(q),O&&O.l(q),q.forEach(m),a=B(f),D&&D.l(f),p=ne(),this.h()},h(){I(t,"class","clue svelte-6n6vu3"),I(_,"class","game-info svelte-6n6vu3")},m(f,h){for(let M=0;M<g.length;M+=1)g[M]&&g[M].m(f,h);w(f,e,h),w(f,t,h),F(t,l),F(l,i),F(t,s),~o&&J[o].m(t,null),w(f,v,h),E&&E.m(f,h),w(f,c,h),w(f,_,h),z.m(_,null),F(_,y),O&&O.m(_,null),w(f,a,h),D&&D.m(f,h),w(f,p,h),d=!0},p(f,h){if(h&240){b=me(f[4]);let q;for(q=0;q<b.length;q+=1){const W=ve(f,b,q);g[q]?(g[q].p(W,h),C(g[q],1)):(g[q]=ke(W),g[q].c(),C(g[q],1),g[q].m(e.parentNode,e))}for(P(),q=b.length;q<g.length;q+=1)k(q);$()}(!d||h&1)&&r!==(r=f[0].prompt+"")&&K(i,r);let M=o;o=Q(f),o===M?~o&&J[o].p(f,h):(u&&(P(),S(J[M],1,1,()=>{J[M]=null}),$()),~o?(u=J[o],u?u.p(f,h):(u=J[o]=U[o](f),u.c()),C(u,1),u.m(t,null)):u=null),f[5]===null?E?(E.p(f,h),h&32&&C(E,1)):(E=ye(f),E.c(),C(E,1),E.m(c.parentNode,c)):E&&(P(),S(E,1,1,()=>{E=null}),$()),le===(le=_e(f))&&z?z.p(f,h):(z.d(1),z=le(f),z&&(z.c(),z.m(_,y))),f[0].message?O?O.p(f,h):(O=we(f),O.c(),O.m(_,null)):O&&(O.d(1),O=null),f[5]!==null?D?(D.p(f,h),h&32&&C(D,1)):(D=Ce(f),D.c(),C(D,1),D.m(p.parentNode,p)):D&&(P(),S(D,1,1,()=>{D=null}),$())},i(f){if(!d){for(let h=0;h<b.length;h+=1)C(g[h]);C(u),C(E),C(D),d=!0}},o(f){g=g.filter(Boolean);for(let h=0;h<g.length;h+=1)S(g[h]);S(u),S(E),S(D),d=!1},d(f){f&&(m(e),m(t),m(v),m(c),m(_),m(a),m(p)),Ve(g,f),~o&&J[o].d(),E&&E.d(f),z.d(),O&&O.d(),D&&D.d(f)}}}function ge(n){let e,t=n[10]+"",l,r,i,s;return{c(){e=V("div"),l=A(t),this.h()},l(o){e=G(o,"DIV",{class:!0});var u=T(e);l=N(u,t),u.forEach(m),this.h()},h(){I(e,"class",r=oe("clue-question"+(n[5]!==null||n[12]<n[6]-1?" old":" new"))+" svelte-6n6vu3")},m(o,u){w(o,e,u),F(e,l),s=!0},p(o,u){(!s||u&16)&&t!==(t=o[10]+"")&&K(l,t),(!s||u&96&&r!==(r=oe("clue-question"+(o[5]!==null||o[12]<o[6]-1?" old":" new"))+" svelte-6n6vu3"))&&I(e,"class",r)},i(o){s||(o&&X(()=>{s&&(i||(i=R(e,n[8],{},!0)),i.run(1))}),s=!0)},o(o){o&&(i||(i=R(e,n[8],{},!1)),i.run(0)),s=!1},d(o){o&&m(e),o&&i&&i.end()}}}function be(n){let e,t=(n[7][n[12]]??"")+"",l,r,i,s,o,u,v;const c=[He,$e],_=[];function y(a,p){return a[5]&&a[12]===a[6]-1?0:a[7][a[12]]?1:-1}return~(i=y(n))&&(s=_[i]=c[i](n)),{c(){e=V("div"),l=A(t),r=j(),s&&s.c(),this.h()},l(a){e=G(a,"DIV",{class:!0});var p=T(e);l=N(p,t),r=B(p),s&&s.l(p),p.forEach(m),this.h()},h(){I(e,"class",o=oe("clue-guess"+(n[5]&&n[12]===n[6]-1?" correct":""))+" svelte-6n6vu3")},m(a,p){w(a,e,p),F(e,l),F(e,r),~i&&_[i].m(e,null),v=!0},p(a,p){(!v||p&128)&&t!==(t=(a[7][a[12]]??"")+"")&&K(l,t);let d=i;i=y(a),i!==d&&(s&&(P(),S(_[d],1,1,()=>{_[d]=null}),$()),~i?(s=_[i],s||(s=_[i]=c[i](a),s.c()),C(s,1),s.m(e,null)):s=null),(!v||p&96&&o!==(o=oe("clue-guess"+(a[5]&&a[12]===a[6]-1?" correct":""))+" svelte-6n6vu3"))&&I(e,"class",o)},i(a){v||(C(s),a&&X(()=>{v&&(u||(u=R(e,Y,{},!0)),u.run(1))}),v=!0)},o(a){S(s),a&&(u||(u=R(e,Y,{},!1)),u.run(0)),v=!1},d(a){a&&m(e),~i&&_[i].d(),a&&u&&u.end()}}}function $e(n){let e,t;return e=new Ee({props:{image:"cross",color:"var(--color-incorrect)",alt:"incorrect"}}),{c(){Z(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,r){ee(e,l,r),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function He(n){let e,t;return e=new Ee({props:{image:"check",color:"var(--color-correct)",alt:"correct"}}),{c(){Z(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,r){ee(e,l,r),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function ke(n){let e,t,l,r=(n[5]!==null||n[12]<n[6])&&ge(n),i=(n[5]!==null||n[12]<n[6]-1)&&be(n);return{c(){e=V("div"),r&&r.c(),t=j(),i&&i.c(),this.h()},l(s){e=G(s,"DIV",{class:!0});var o=T(e);r&&r.l(o),t=B(o),i&&i.l(o),o.forEach(m),this.h()},h(){I(e,"class","clue svelte-6n6vu3")},m(s,o){w(s,e,o),r&&r.m(e,null),F(e,t),i&&i.m(e,null),l=!0},p(s,o){s[5]!==null||s[12]<s[6]?r?(r.p(s,o),o&96&&C(r,1)):(r=ge(s),r.c(),C(r,1),r.m(e,t)):r&&(P(),S(r,1,1,()=>{r=null}),$()),s[5]!==null||s[12]<s[6]-1?i?(i.p(s,o),o&96&&C(i,1)):(i=be(s),i.c(),C(i,1),i.m(e,null)):i&&(P(),S(i,1,1,()=>{i=null}),$())},i(s){l||(C(r),C(i),l=!0)},o(s){S(r),S(i),l=!1},d(s){s&&m(e),r&&r.d(),i&&i.d()}}}function Ke(n){let e,t=n[0].answers[0]+"",l,r,i;return{c(){e=V("div"),l=A(t),this.h()},l(s){e=G(s,"DIV",{class:!0});var o=T(e);l=N(o,t),o.forEach(m),this.h()},h(){I(e,"class","answer svelte-6n6vu3")},m(s,o){w(s,e,o),F(e,l),i=!0},p(s,o){(!i||o&1)&&t!==(t=s[0].answers[0]+"")&&K(l,t)},i(s){i||(s&&X(()=>{i&&(r||(r=R(e,Y,{},!0)),r.run(1))}),i=!0)},o(s){s&&(r||(r=R(e,Y,{},!1)),r.run(0)),i=!1},d(s){s&&m(e),s&&r&&r.end()}}}function Qe(n){let e,t=n[0].answers[0]+"",l,r,i;return{c(){e=V("div"),l=A(t),this.h()},l(s){e=G(s,"DIV",{class:!0});var o=T(e);l=N(o,t),o.forEach(m),this.h()},h(){I(e,"class","answer svelte-6n6vu3")},m(s,o){w(s,e,o),F(e,l),i=!0},p(s,o){(!i||o&1)&&t!==(t=s[0].answers[0]+"")&&K(l,t)},i(s){i||(s&&X(()=>{i&&(r||(r=R(e,Y,{},!0)),r.run(1))}),i=!0)},o(s){s&&(r||(r=R(e,Y,{},!1)),r.run(0)),i=!1},d(s){s&&m(e),s&&r&&r.end()}}}function ye(n){let e,t;return e=new Ne({props:{answers:n[0].answers}}),{c(){Z(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,r){ee(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.answers=l[0].answers),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function We(n){let e,t;return{c(){e=V("div"),t=A(n[1])},l(l){e=G(l,"DIV",{});var r=T(e);t=N(r,n[1]),r.forEach(m)},m(l,r){w(l,e,r),F(e,t)},p(l,r){r&2&&K(t,l[1])},d(l){l&&m(e)}}}function Xe(n){let e,t;return{c(){e=V("div"),t=A(pe)},l(l){e=G(l,"DIV",{});var r=T(e);t=N(r,pe),r.forEach(m)},m(l,r){w(l,e,r),F(e,t)},p:H,d(l){l&&m(e)}}}function we(n){let e,t=n[0].message+"",l;return{c(){e=V("div"),l=A(t)},l(r){e=G(r,"DIV",{});var i=T(e);l=N(i,t),i.forEach(m)},m(r,i){w(r,e,i),F(e,l)},p(r,i){i&1&&t!==(t=r[0].message+"")&&K(l,t)},d(r){r&&m(e)}}}function Ce(n){let e,t,l,r,i,s,o,u;function v(d,b){return d[5]===!0?xe:Ze}let c=v(n),_=c(n);r=new Ye({props:{today:n[1],isCustomGame:n[2]}});function y(d,b){return d[2]?nt:st}let a=y(n),p=a(n);return{c(){e=V("div"),t=V("div"),_.c(),l=j(),Z(r.$$.fragment),i=j(),s=V("div"),p.c(),this.h()},l(d){e=G(d,"DIV",{class:!0});var b=T(e);t=G(b,"DIV",{});var g=T(t);_.l(g),g.forEach(m),l=B(b),x(r.$$.fragment,b),i=B(b),s=G(b,"DIV",{class:!0});var k=T(s);p.l(k),k.forEach(m),b.forEach(m),this.h()},h(){I(s,"class","next svelte-6n6vu3"),I(e,"class","game-over svelte-6n6vu3")},m(d,b){w(d,e,b),F(e,t),_.m(t,null),F(e,l),ee(r,e,null),F(e,i),F(e,s),p.m(s,null),u=!0},p(d,b){c===(c=v(d))&&_?_.p(d,b):(_.d(1),_=c(d),_&&(_.c(),_.m(t,null)));const g={};b&2&&(g.today=d[1]),b&4&&(g.isCustomGame=d[2]),r.$set(g),a!==(a=y(d))&&(p.d(1),p=a(d),p&&(p.c(),p.m(s,null)))},i(d){u||(C(r.$$.fragment,d),d&&X(()=>{u&&(o||(o=R(e,Y,{},!0)),o.run(1))}),u=!0)},o(d){S(r.$$.fragment,d),d&&(o||(o=R(e,Y,{},!1)),o.run(0)),u=!1},d(d){d&&m(e),_.d(),te(r),p.d(),d&&o&&o.end()}}}function Ze(n){let e;return{c(){e=A("Better luck next time!")},l(t){e=N(t,"Better luck next time!")},m(t,l){w(t,e,l)},p:H,d(t){t&&m(e)}}}function xe(n){let e;function t(i,s){if(i[6]===1)return it;if(i[6]===2)return rt;if(i[6]===3)return lt;if(i[6]===4)return tt;if(i[6]===5)return et}let l=t(n),r=l&&l(n);return{c(){r&&r.c(),e=ne()},l(i){r&&r.l(i),e=ne()},m(i,s){r&&r.m(i,s),w(i,e,s)},p(i,s){l!==(l=t(i))&&(r&&r.d(1),r=l&&l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&m(e),r&&r.d(i)}}}function et(n){let e;return{c(){e=A("Riddled!")},l(t){e=N(t,"Riddled!")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function tt(n){let e;return{c(){e=A("You got it!")},l(t){e=N(t,"You got it!")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function lt(n){let e;return{c(){e=A("Third time’s the charm!")},l(t){e=N(t,"Third time’s the charm!")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function rt(n){let e;return{c(){e=A("Lucky guess!")},l(t){e=N(t,"Lucky guess!")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function it(n){let e;return{c(){e=A("You read my mind!")},l(t){e=N(t,"You read my mind!")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function st(n){let e;return{c(){e=A("next riddle at midnight")},l(t){e=N(t,"next riddle at midnight")},m(t,l){w(t,e,l)},d(t){t&&m(e)}}}function nt(n){let e,t,l="today’s riddle";return{c(){e=A("try "),t=V("a"),t.textContent=l,this.h()},l(r){e=N(r,"try "),t=G(r,"A",{"data-sveltekit-reload":!0,href:!0,"data-svelte-h":!0}),ue(t)!=="svelte-449iqt"&&(t.textContent=l),this.h()},h(){I(t,"data-sveltekit-reload",""),I(t,"href",Oe+"/")},m(r,i){w(r,e,i),w(r,t,i)},d(r){r&&(m(e),m(t))}}}function ot(n){let e,t,l,r;const i=[Pe,Le],s=[];function o(u,v){return u[4]&&!u[3]?0:1}return t=o(n),l=s[t]=i[t](n),{c(){e=V("div"),l.c(),this.h()},l(u){e=G(u,"DIV",{id:!0,class:!0});var v=T(e);l.l(v),v.forEach(m),this.h()},h(){I(e,"id","game"),I(e,"class","svelte-6n6vu3")},m(u,v){w(u,e,v),s[t].m(e,null),r=!0},p(u,[v]){let c=t;t=o(u),t===c?s[t].p(u,v):(P(),S(s[c],1,1,()=>{s[c]=null}),$(),l=s[t],l?l.p(u,v):(l=s[t]=i[t](u),l.c()),C(l,1),l.m(e,null))},i(u){r||(C(l),r=!0)},o(u){S(l),r=!1},d(u){u&&m(e),s[t].d()}}}function ut(n,e,t){let l,r,i,s;L(n,ie,a=>t(5,r=a)),L(n,se,a=>t(6,i=a)),L(n,re,a=>t(7,s=a));let o,u,v=!1;function c(a){return r!==null?Y(a):ze(a,{duration:600,delay:600,x:100})}qe(async()=>{const a=new Date().getTimezoneOffset()*6e4,p=new Date(Date.now()-a).toISOString();t(1,u=p.split("T")[0]);let d=null;try{d=await Te(!0)}catch(b){t(3,_=b.message)}if(d)t(2,v=!0),t(0,o=d);else if(!_){const b=await Ae(u);b?(t(0,o=b),await y(u)):t(3,_="No game today ):")}});let _;async function y(a){const p=localStorage.getItem(a);if(p){const{questions:d,won:b,guesses:g}=JSON.parse(p);se.set(d),ie.set(b),re.set(g)}se.subscribe(d=>{localStorage.setItem(a,JSON.stringify({questions:d,won:r,guesses:s}))}),ie.subscribe(d=>{localStorage.setItem(a,JSON.stringify({questions:i,won:d,guesses:s}))}),re.subscribe(d=>{localStorage.setItem(a,JSON.stringify({questions:i,won:r,guesses:d}))})}return n.$$.update=()=>{n.$$.dirty&1&&t(4,l=o?[o.q1,o.q2,o.q3,o.q4,o.q5]:null)},t(3,_=null),[o,u,v,_,l,r,i,s,c]}class ft extends ae{constructor(e){super(),ce(this,e,ut,ot,fe,{})}}function at(n){let e,t;return e=new ft({}),{c(){Z(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,r){ee(e,l,r),t=!0},p:H,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}class vt extends ae{constructor(e){super(),ce(this,e,null,at,fe,{})}}export{vt as component};
