import{i as Ie,e as me,s as oe,n as P,c as K,f as Fe,d as De,o as Ee,t as Se,a as Q,g as re}from"../chunks/scheduler.feRZjZNt.js";import{S as ue,i as fe,e as q,s as B,c as V,a as T,k as ie,f as O,d as m,l as I,g as k,h as S,m as qe,n as J,o as C,p as L,q as w,t as A,b as N,j as Y,y as ne,r as Ve,u as W,v as X,w as Z,x,B as U}from"../chunks/index.B8taByyN.js";import{g as Ge,b as Te,i as Ae,e as de,G as Ne}from"../chunks/GuessBox.CjZJof0z.js";import{r as Be,b as Oe}from"../chunks/entry.BASMzWIt.js";import{q as te,w as le,g as se,I as Ce}from"../chunks/consts.C9AlPcf_.js";function $e(o){const e=o-1;return e*e*e+1}function R(o,{delay:e=0,duration:t=400,easing:l=Ie}={}){const r=+getComputedStyle(o).opacity;return{delay:e,duration:t,easing:l,css:i=>`opacity: ${i*r}`}}function je(o,{delay:e=0,duration:t=400,easing:l=$e,x:r=0,y:i=0,opacity:n=0}={}){const s=getComputedStyle(o),u=+s.opacity,g=s.transform==="none"?"":s.transform,v=u*(1-n),[c,y]=me(r),[p,_]=me(i);return{delay:e,duration:t,easing:l,css:(f,d)=>`
			transform: ${g} translate(${(1-f)*c}${y}, ${(1-f)*p}${_});
			opacity: ${u-v*d}`}}function ve(o){let e,t;return{c(){e=q("script"),this.h()},l(l){e=V(l,"SCRIPT",{"data-goatcounter":!0,"data-goatcounter-settings":!0,src:!0});var r=T(e);r.forEach(m),this.h()},h(){I(e,"data-goatcounter","https://riddling.goatcounter.com/count"),I(e,"data-goatcounter-settings",'{"path": "'+o[2]+'"}'),e.async=!0,Fe(e.src,t="//gc.zgo.at/count.js")||I(e,"src",t)},m(l,r){k(l,e,r)},p:P,d(l){l&&m(e)}}}function Ue(o){let e,t,l="Share",r,i,n="Copied to clipboard!",s,u,g,v=!o[0]&&ve(o);return{c(){e=q("div"),t=q("button"),t.textContent=l,r=B(),i=q("div"),i.textContent=n,s=B(),v&&v.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var y=T(e);t=V(y,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-8ttavy"&&(t.textContent=l),r=O(y),i=V(y,"DIV",{class:!0,"data-svelte-h":!0}),ie(i)!=="svelte-1yjkaez"&&(i.textContent=n),s=O(y),v&&v.l(y),y.forEach(m),this.h()},h(){I(t,"class","svelte-x0r178"),I(i,"class","tooltip svelte-x0r178"),I(e,"class","share svelte-x0r178")},m(c,y){k(c,e,y),S(e,t),S(e,r),S(e,i),o[5](i),S(e,s),v&&v.m(e,null),u||(g=qe(t,"click",o[3]),u=!0)},p(c,[y]){c[0]?v&&(v.d(1),v=null):v?v.p(c,y):(v=ve(c),v.c(),v.m(e,null))},i:P,o:P,d(c){c&&m(e),o[5](null),v&&v.d(),u=!1,g()}}}const Re="https://riddl.ing",ze=2;function Je(o,e,t){let l,r;K(o,te,f=>t(7,l=f)),K(o,le,f=>t(8,r=f));let{today:i}=e,{isCustomGame:n=!1}=e,s,u;const g=r===!0?l:6,v="/"+i+"/s"+g,c=[["💯","👑","🧠","💡","🙈"],["💪","✌️","🤘","🙌","👍"],["🤯","😎","🤩","😀","🙃"],["🙇‍♀️","💁","🙆‍♀️","🤦","🤷"]];function y(){const f=`
${Re}
 ${n?"custom game":i}
${p()}
`.trim();navigator.clipboard.writeText(f),u&&clearTimeout(u),t(1,s.style.visibility="visible",s),t(1,s.style.transition="opacity 0.1s",s),t(1,s.style.opacity="1",s),u=setTimeout(()=>{t(1,s.style.transition="opacity 0.5s",s),t(1,s.style.opacity="0",s)},1e3)}function p(){var f="";for(let d=0;d<g-1;d++)f+="❌";if(g===6)return f;f+=c[ze%c.length][g-1];for(let d=g;d<5;d++)f+="❔";return f}function _(f){De[f?"unshift":"push"](()=>{s=f,t(1,s)})}return o.$$set=f=>{"today"in f&&t(4,i=f.today),"isCustomGame"in f&&t(0,n=f.isCustomGame)},[n,s,v,y,i,_]}class Le extends ue{constructor(e){super(),fe(this,e,Je,Ue,oe,{today:4,isCustomGame:0})}}function pe(o,e,t){const l=o.slice();return l[11]=e[t],l[13]=t,l}function Pe(o){let e=(o[3]??"")+"",t;return{c(){t=A(e)},l(l){t=N(l,e)},m(l,r){k(l,t,r)},p(l,r){r&8&&e!==(e=(l[3]??"")+"")&&Y(t,e)},i:P,o:P,d(l){l&&m(t)}}}function Ye(o){let e,t,l,r=o[0].prompt+"",i,n,s,u,g,v,c,y,p,_,f,d=de(o[4]),h=[];for(let a=0;a<d.length;a+=1)h[a]=be(pe(o,d,a));const M=a=>C(h[a],1,1,()=>{h[a]=null}),ae=[Qe,Ke],z=[];function ce(a,b){return a[5]===!0?0:a[5]===!1?1:-1}~(s=ce(o))&&(u=z[s]=ae[s](o));let F=o[5]===null&&ke(o);function _e(a,b){return a[2]?Xe:We}let ee=_e(o),$=ee(o),G=o[0].message&&ye(o),D=o[5]!==null&&we(o);return{c(){for(let a=0;a<h.length;a+=1)h[a].c();e=B(),t=q("div"),l=q("div"),i=A(r),n=B(),u&&u.c(),g=B(),F&&F.c(),v=B(),c=q("div"),$.c(),y=B(),G&&G.c(),p=B(),D&&D.c(),_=ne(),this.h()},l(a){for(let H=0;H<h.length;H+=1)h[H].l(a);e=O(a),t=V(a,"DIV",{class:!0});var b=T(t);l=V(b,"DIV",{});var j=T(l);i=N(j,r),j.forEach(m),n=O(b),u&&u.l(b),b.forEach(m),g=O(a),F&&F.l(a),v=O(a),c=V(a,"DIV",{class:!0});var E=T(c);$.l(E),y=O(E),G&&G.l(E),E.forEach(m),p=O(a),D&&D.l(a),_=ne(),this.h()},h(){I(t,"class","clue svelte-6n6vu3"),I(c,"class","game-info svelte-6n6vu3")},m(a,b){for(let j=0;j<h.length;j+=1)h[j]&&h[j].m(a,b);k(a,e,b),k(a,t,b),S(t,l),S(l,i),S(t,n),~s&&z[s].m(t,null),k(a,g,b),F&&F.m(a,b),k(a,v,b),k(a,c,b),$.m(c,null),S(c,y),G&&G.m(c,null),k(a,p,b),D&&D.m(a,b),k(a,_,b),f=!0},p(a,b){if(b&240){d=de(a[4]);let E;for(E=0;E<d.length;E+=1){const H=pe(a,d,E);h[E]?(h[E].p(H,b),w(h[E],1)):(h[E]=be(H),h[E].c(),w(h[E],1),h[E].m(e.parentNode,e))}for(J(),E=d.length;E<h.length;E+=1)M(E);L()}(!f||b&1)&&r!==(r=a[0].prompt+"")&&Y(i,r);let j=s;s=ce(a),s===j?~s&&z[s].p(a,b):(u&&(J(),C(z[j],1,1,()=>{z[j]=null}),L()),~s?(u=z[s],u?u.p(a,b):(u=z[s]=ae[s](a),u.c()),w(u,1),u.m(t,null)):u=null),a[5]===null?F?(F.p(a,b),b&32&&w(F,1)):(F=ke(a),F.c(),w(F,1),F.m(v.parentNode,v)):F&&(J(),C(F,1,1,()=>{F=null}),L()),ee===(ee=_e(a))&&$?$.p(a,b):($.d(1),$=ee(a),$&&($.c(),$.m(c,y))),a[0].message?G?G.p(a,b):(G=ye(a),G.c(),G.m(c,null)):G&&(G.d(1),G=null),a[5]!==null?D?(D.p(a,b),b&32&&w(D,1)):(D=we(a),D.c(),w(D,1),D.m(_.parentNode,_)):D&&(J(),C(D,1,1,()=>{D=null}),L())},i(a){if(!f){for(let b=0;b<d.length;b+=1)w(h[b]);w(u),w(F),w(D),f=!0}},o(a){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)C(h[b]);C(u),C(F),C(D),f=!1},d(a){a&&(m(e),m(t),m(g),m(v),m(c),m(p),m(_)),Ve(h,a),~s&&z[s].d(),F&&F.d(a),$.d(),G&&G.d(),D&&D.d(a)}}}function he(o){let e,t=o[11]+"",l,r,i,n;return{c(){e=q("div"),l=A(t),this.h()},l(s){e=V(s,"DIV",{class:!0});var u=T(e);l=N(u,t),u.forEach(m),this.h()},h(){I(e,"class",r=re("clue-question"+(o[5]!==null||o[13]<o[6]-1?" old":" new"))+" svelte-6n6vu3")},m(s,u){k(s,e,u),S(e,l),n=!0},p(s,u){(!n||u&16)&&t!==(t=s[11]+"")&&Y(l,t),(!n||u&96&&r!==(r=re("clue-question"+(s[5]!==null||s[13]<s[6]-1?" old":" new"))+" svelte-6n6vu3"))&&I(e,"class",r)},i(s){n||(s&&Q(()=>{n&&(i||(i=U(e,o[8],{},!0)),i.run(1))}),n=!0)},o(s){s&&(i||(i=U(e,o[8],{},!1)),i.run(0)),n=!1},d(s){s&&m(e),s&&i&&i.end()}}}function ge(o){let e,t=(o[7][o[13]]??"")+"",l,r,i,n,s,u,g;const v=[He,Me],c=[];function y(p,_){return p[5]&&p[13]===p[6]-1?0:p[7][p[13]]?1:-1}return~(i=y(o))&&(n=c[i]=v[i](o)),{c(){e=q("div"),l=A(t),r=B(),n&&n.c(),this.h()},l(p){e=V(p,"DIV",{class:!0});var _=T(e);l=N(_,t),r=O(_),n&&n.l(_),_.forEach(m),this.h()},h(){I(e,"class",s=re("clue-guess"+(o[5]&&o[13]===o[6]-1?" correct":""))+" svelte-6n6vu3")},m(p,_){k(p,e,_),S(e,l),S(e,r),~i&&c[i].m(e,null),g=!0},p(p,_){(!g||_&128)&&t!==(t=(p[7][p[13]]??"")+"")&&Y(l,t);let f=i;i=y(p),i!==f&&(n&&(J(),C(c[f],1,1,()=>{c[f]=null}),L()),~i?(n=c[i],n||(n=c[i]=v[i](p),n.c()),w(n,1),n.m(e,null)):n=null),(!g||_&96&&s!==(s=re("clue-guess"+(p[5]&&p[13]===p[6]-1?" correct":""))+" svelte-6n6vu3"))&&I(e,"class",s)},i(p){g||(w(n),p&&Q(()=>{g&&(u||(u=U(e,R,{},!0)),u.run(1))}),g=!0)},o(p){C(n),p&&(u||(u=U(e,R,{},!1)),u.run(0)),g=!1},d(p){p&&m(e),~i&&c[i].d(),p&&u&&u.end()}}}function Me(o){let e,t;return e=new Ce({props:{image:"cross",color:"var(--color-incorrect)",alt:"incorrect"}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function He(o){let e,t;return e=new Ce({props:{image:"check",color:"var(--color-correct)",alt:"correct"}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function be(o){let e,t,l,r=(o[5]!==null||o[13]<o[6])&&he(o),i=(o[5]!==null||o[13]<o[6]-1)&&ge(o);return{c(){e=q("div"),r&&r.c(),t=B(),i&&i.c(),this.h()},l(n){e=V(n,"DIV",{class:!0});var s=T(e);r&&r.l(s),t=O(s),i&&i.l(s),s.forEach(m),this.h()},h(){I(e,"class","clue svelte-6n6vu3")},m(n,s){k(n,e,s),r&&r.m(e,null),S(e,t),i&&i.m(e,null),l=!0},p(n,s){n[5]!==null||n[13]<n[6]?r?(r.p(n,s),s&96&&w(r,1)):(r=he(n),r.c(),w(r,1),r.m(e,t)):r&&(J(),C(r,1,1,()=>{r=null}),L()),n[5]!==null||n[13]<n[6]-1?i?(i.p(n,s),s&96&&w(i,1)):(i=ge(n),i.c(),w(i,1),i.m(e,null)):i&&(J(),C(i,1,1,()=>{i=null}),L())},i(n){l||(w(r),w(i),l=!0)},o(n){C(r),C(i),l=!1},d(n){n&&m(e),r&&r.d(),i&&i.d()}}}function Ke(o){let e,t=o[0].answers[0]+"",l,r,i;return{c(){e=q("div"),l=A(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var s=T(e);l=N(s,t),s.forEach(m),this.h()},h(){I(e,"class","answer svelte-6n6vu3")},m(n,s){k(n,e,s),S(e,l),i=!0},p(n,s){(!i||s&1)&&t!==(t=n[0].answers[0]+"")&&Y(l,t)},i(n){i||(n&&Q(()=>{i&&(r||(r=U(e,R,{},!0)),r.run(1))}),i=!0)},o(n){n&&(r||(r=U(e,R,{},!1)),r.run(0)),i=!1},d(n){n&&m(e),n&&r&&r.end()}}}function Qe(o){let e,t=o[0].answers[0]+"",l,r,i;return{c(){e=q("div"),l=A(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var s=T(e);l=N(s,t),s.forEach(m),this.h()},h(){I(e,"class","answer svelte-6n6vu3")},m(n,s){k(n,e,s),S(e,l),i=!0},p(n,s){(!i||s&1)&&t!==(t=n[0].answers[0]+"")&&Y(l,t)},i(n){i||(n&&Q(()=>{i&&(r||(r=U(e,R,{},!0)),r.run(1))}),i=!0)},o(n){n&&(r||(r=U(e,R,{},!1)),r.run(0)),i=!1},d(n){n&&m(e),n&&r&&r.end()}}}function ke(o){let e,t;return e=new Ne({props:{answers:o[0].answers}}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.answers=l[0].answers),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function We(o){let e,t;return{c(){e=q("div"),t=A(o[1])},l(l){e=V(l,"DIV",{});var r=T(e);t=N(r,o[1]),r.forEach(m)},m(l,r){k(l,e,r),S(e,t)},p(l,r){r&2&&Y(t,l[1])},d(l){l&&m(e)}}}function Xe(o){let e,t="Custom game";return{c(){e=q("div"),e.textContent=t},l(l){e=V(l,"DIV",{"data-svelte-h":!0}),ie(e)!=="svelte-dp7wox"&&(e.textContent=t)},m(l,r){k(l,e,r)},p:P,d(l){l&&m(e)}}}function ye(o){let e,t=o[0].message+"",l;return{c(){e=q("div"),l=A(t)},l(r){e=V(r,"DIV",{});var i=T(e);l=N(i,t),i.forEach(m)},m(r,i){k(r,e,i),S(e,l)},p(r,i){i&1&&t!==(t=r[0].message+"")&&Y(l,t)},d(r){r&&m(e)}}}function we(o){let e,t,l,r,i,n,s,u;function g(f,d){return f[5]===!0?xe:Ze}let v=g(o),c=v(o);r=new Le({props:{today:o[1],isCustomGame:o[2]}});function y(f,d){return f[2]?st:nt}let p=y(o),_=p(o);return{c(){e=q("div"),t=q("div"),c.c(),l=B(),W(r.$$.fragment),i=B(),n=q("div"),_.c(),this.h()},l(f){e=V(f,"DIV",{class:!0});var d=T(e);t=V(d,"DIV",{});var h=T(t);c.l(h),h.forEach(m),l=O(d),X(r.$$.fragment,d),i=O(d),n=V(d,"DIV",{class:!0});var M=T(n);_.l(M),M.forEach(m),d.forEach(m),this.h()},h(){I(n,"class","next svelte-6n6vu3"),I(e,"class","game-over svelte-6n6vu3")},m(f,d){k(f,e,d),S(e,t),c.m(t,null),S(e,l),Z(r,e,null),S(e,i),S(e,n),_.m(n,null),u=!0},p(f,d){v===(v=g(f))&&c?c.p(f,d):(c.d(1),c=v(f),c&&(c.c(),c.m(t,null)));const h={};d&2&&(h.today=f[1]),d&4&&(h.isCustomGame=f[2]),r.$set(h),p!==(p=y(f))&&(_.d(1),_=p(f),_&&(_.c(),_.m(n,null)))},i(f){u||(w(r.$$.fragment,f),f&&Q(()=>{u&&(s||(s=U(e,R,{},!0)),s.run(1))}),u=!0)},o(f){C(r.$$.fragment,f),f&&(s||(s=U(e,R,{},!1)),s.run(0)),u=!1},d(f){f&&m(e),c.d(),x(r),_.d(),f&&s&&s.end()}}}function Ze(o){let e;return{c(){e=A("Better luck next time!")},l(t){e=N(t,"Better luck next time!")},m(t,l){k(t,e,l)},p:P,d(t){t&&m(e)}}}function xe(o){let e;function t(i,n){if(i[6]===1)return it;if(i[6]===2)return rt;if(i[6]===3)return lt;if(i[6]===4)return tt;if(i[6]===5)return et}let l=t(o),r=l&&l(o);return{c(){r&&r.c(),e=ne()},l(i){r&&r.l(i),e=ne()},m(i,n){r&&r.m(i,n),k(i,e,n)},p(i,n){l!==(l=t(i))&&(r&&r.d(1),r=l&&l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&m(e),r&&r.d(i)}}}function et(o){let e;return{c(){e=A("Riddled!")},l(t){e=N(t,"Riddled!")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function tt(o){let e;return{c(){e=A("You got it!")},l(t){e=N(t,"You got it!")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function lt(o){let e;return{c(){e=A("Third time’s the charm!")},l(t){e=N(t,"Third time’s the charm!")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function rt(o){let e;return{c(){e=A("Lucky guess!")},l(t){e=N(t,"Lucky guess!")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function it(o){let e;return{c(){e=A("You read my mind!")},l(t){e=N(t,"You read my mind!")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function nt(o){let e;return{c(){e=A("next riddle at midnight")},l(t){e=N(t,"next riddle at midnight")},m(t,l){k(t,e,l)},d(t){t&&m(e)}}}function st(o){let e,t,l="today’s riddle";return{c(){e=A("try "),t=q("a"),t.textContent=l,this.h()},l(r){e=N(r,"try "),t=V(r,"A",{"data-sveltekit-reload":!0,href:!0,"data-svelte-h":!0}),ie(t)!=="svelte-449iqt"&&(t.textContent=l),this.h()},h(){I(t,"data-sveltekit-reload",""),I(t,"href",Oe+"/")},m(r,i){k(r,e,i),k(r,t,i)},d(r){r&&(m(e),m(t))}}}function ot(o){let e,t,l,r;const i=[Ye,Pe],n=[];function s(u,g){return u[4]&&!u[3]?0:1}return t=s(o),l=n[t]=i[t](o),{c(){e=q("div"),l.c(),this.h()},l(u){e=V(u,"DIV",{id:!0,class:!0});var g=T(e);l.l(g),g.forEach(m),this.h()},h(){I(e,"id","game"),I(e,"class","svelte-6n6vu3")},m(u,g){k(u,e,g),n[t].m(e,null),r=!0},p(u,[g]){let v=t;t=s(u),t===v?n[t].p(u,g):(J(),C(n[v],1,1,()=>{n[v]=null}),L(),l=n[t],l?l.p(u,g):(l=n[t]=i[t](u),l.c()),w(l,1),l.m(e,null))},i(u){r||(w(l),r=!0)},o(u){C(l),r=!1},d(u){u&&m(e),n[t].d()}}}function ut(o,e,t){let l,r,i,n;K(o,le,_=>t(5,r=_)),K(o,te,_=>t(6,i=_)),K(o,se,_=>t(7,n=_));let s,u,g=!1;function v(_){return r!==null?R(_):je(_,{duration:600,delay:600,x:100})}Ee(async()=>{const _=new Date().getTimezoneOffset()*6e4,f=new Date(Date.now()-_).toISOString();t(1,u=f.split("T")[0]);const d=await p();if(d)t(2,g=!0),t(0,s=d);else if(!c){const h=await Ge(u);h?(t(0,s=h),await y(u)):t(3,c="No game today ):")}});let c;async function y(_){const f=localStorage.getItem(_);if(f){const{questions:d,won:h,guesses:M}=JSON.parse(f);te.set(d),le.set(h),se.set(M)}te.subscribe(d=>{localStorage.setItem(_,JSON.stringify({questions:d,won:r,guesses:n}))}),le.subscribe(d=>{localStorage.setItem(_,JSON.stringify({questions:i,won:d,guesses:n}))}),se.subscribe(d=>{localStorage.setItem(_,JSON.stringify({questions:i,won:r,guesses:d}))})}async function p(){const f=new URL(window.location.href).searchParams.get("game");if(f)try{const[d,h]=Te(f);if(Ae(d))return h&&(async()=>(await Se(),Be(h,{})))(),d;throw new Error("Invalid custom game.")}catch{return console.error("Invalid custom game."),t(3,c="Invalid custom game."),null}return null}return o.$$.update=()=>{o.$$.dirty&1&&t(4,l=s?[s.q1,s.q2,s.q3,s.q4,s.q5]:null)},t(3,c=null),[s,u,g,c,l,r,i,n,v]}class ft extends ue{constructor(e){super(),fe(this,e,ut,ot,oe,{})}}function at(o){let e,t;return e=new ft({}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p:P,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}class pt extends ue{constructor(e){super(),fe(this,e,null,at,oe,{})}}export{pt as component};
